(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{61917:function(e,t,a){Promise.resolve().then(a.bind(a,44627))},44627:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return t8}});var s=a(57437),r=a(2265),l=a(20362),i=a(48614),n=a(31047),o=a(70933),c=a(71637),d=a(58896),h=a(71769),u=a(34423),m=a(94766),x=a(96215),g=a(85954),b=a(58293),p=a(32489),y=a(92369),f=a(66337),v=a(98728),w=a(98482),j=a(90535),N=a(61994),k=a(53335);function D(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,k.m6)((0,N.W)(t))}let S=(0,j.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:i=!1,...n}=e,o=i?w.g7:"button";return(0,s.jsx)(o,{className:D(S({variant:r,size:l,className:a})),ref:t,...n})});C.displayName="Button";class A{generateSalt(){let e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")}async hashPassword(e,t){let a=new TextEncoder().encode(e+t);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",a))).map(e=>e.toString(16).padStart(2,"0")).join("")}async setComponentPassword(e,t,a,s){let r=this.generateSalt(),l=await this.hashPassword(t,r),i=await this.hashPassword(s.toLowerCase().trim(),r),n={componentId:e,passwordHash:l,salt:r,recoveryQuestion:a,recoveryAnswerHash:i,createdAt:Date.now()},o=this.getAllPasswords(),c=o.findIndex(t=>t.componentId===e);c>=0?o[c]=n:o.push(n),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(o))}async verifyComponentPassword(e,t){let a=this.getAllPasswords().find(t=>t.componentId===e);return!!a&&await this.hashPassword(t,a.salt)===a.passwordHash}async verifyRecoveryAnswer(e,t){let a=this.getAllPasswords().find(t=>t.componentId===e);return!!a&&await this.hashPassword(t.toLowerCase().trim(),a.salt)===a.recoveryAnswerHash}getRecoveryQuestion(e){let t=this.getAllPasswords().find(t=>t.componentId===e);return(null==t?void 0:t.recoveryQuestion)||null}removeComponentPassword(e){let t=this.getAllPasswords().filter(t=>t.componentId!==e);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}getProtectedComponents(){return this.getAllPasswords().map(e=>e.componentId)}isComponentProtected(e){return this.getAllPasswords().some(t=>t.componentId===e)}resetComponentData(e){let t=[];for(let a=0;a<localStorage.length;a++){let s=localStorage.key(a);s&&s.includes(e)&&t.push(s)}t.forEach(e=>localStorage.removeItem(e))}async createBackup(e){let t=new Blob([JSON.stringify({timestamp:Date.now(),data:e,version:"1.0.0"},null,2)],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="neofocus-backup-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}async restoreFromBackup(e){return new Promise((t,a)=>{let s=new FileReader;s.onload=e=>{try{var s;let r=JSON.parse(null===(s=e.target)||void 0===s?void 0:s.result);r.data?t(r.data):a(Error("Invalid backup file format"))}catch(e){a(Error("Failed to parse backup file"))}},s.onerror=()=>a(Error("Failed to read backup file")),s.readAsText(e)})}getAllPasswords(){let e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}constructor(){this.STORAGE_KEY="neofocus-passwords",this.BACKUP_PREFIX="neofocus-backup-"}}let T=new A;var E=a(87769),z=a(42208),Z=a(88906),M=a(76865),R=a(54001),P=a(92735),I=a(17689);let F=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:D("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});F.displayName="Input";var L=a(370);let B=(0,j.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(L.f,{ref:t,className:D(B(),a),...r})});W.displayName=L.f.displayName;var O=a(14438);function q(e){let{isOpen:t,onClose:a,componentId:n,componentName:o,onSuccess:c}=e,[d,h]=(0,r.useState)("verify"),[u,m]=(0,r.useState)(""),[x,g]=(0,r.useState)(""),[b,p]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[w,j]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1);(0,r.useState)(()=>{t&&h(T.isComponentProtected(n)?"verify":"setup")});let D=async()=>{if(!u){O.A.error("Please enter your password");return}k(!0);try{await T.verifyComponentPassword(n,u)?(O.A.success("Access granted"),c(),L()):O.A.error("Incorrect password")}catch(e){O.A.error("Failed to verify password")}finally{k(!1)}},S=async()=>{if(!u||!x||!b||!y){O.A.error("Please fill in all fields");return}if(u!==x){O.A.error("Passwords do not match");return}if(u.length<6){O.A.error("Password must be at least 6 characters long");return}k(!0);try{await T.setComponentPassword(n,u,b,y),O.A.success("Password protection enabled"),c(),L()}catch(e){O.A.error("Failed to set password")}finally{k(!1)}},A=async()=>{if(!y){O.A.error("Please enter your recovery answer");return}k(!0);try{await T.verifyRecoveryAnswer(n,y)?(O.A.success("Recovery answer correct. Set a new password."),h("setup"),v("")):O.A.error("Incorrect recovery answer")}catch(e){O.A.error("Failed to verify recovery answer")}finally{k(!1)}},L=()=>{m(""),g(""),p(""),v(""),j(!1),k(!1),a()},B=async()=>{try{let e=JSON.parse(localStorage.getItem("neofocus-data")||"{}");await T.createBackup(e),O.A.success("Backup created successfully")}catch(e){O.A.error("Failed to create backup")}};return t?(0,s.jsx)(i.M,{children:(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:L,children:(0,s.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-700 w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(f.Z,{size:20,className:"text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"setup"===d?"Set Password":"recovery"===d?"Account Recovery":"reset"===d?"Reset Password":"Enter Password"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:["verify"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-gray-700 dark:text-gray-300",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(F,{type:w?"text":"password",value:u,onChange:e=>m(e.target.value),className:"pr-10 bg-gray-50 dark:bg-gray-800",placeholder:"Enter your password",onKeyPress:e=>"Enter"===e.key&&D()}),(0,s.jsx)("button",{type:"button",onClick:()=>j(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:w?(0,s.jsx)(E.Z,{size:16}):(0,s.jsx)(z.Z,{size:16})})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C,{onClick:D,disabled:N,className:"flex-1",children:N?"Verifying...":"Unlock"}),(0,s.jsx)(C,{onClick:()=>{let e=T.getRecoveryQuestion(n);e?(p(e),h("recovery")):O.A.error("No recovery question found")},variant:"outline",size:"sm",children:"Forgot?"})]})]}),"setup"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-gray-700 dark:text-gray-300",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(F,{type:w?"text":"password",value:u,onChange:e=>m(e.target.value),className:"pr-10 bg-gray-50 dark:bg-gray-800",placeholder:"Enter new password (min 6 characters)"}),(0,s.jsx)("button",{type:"button",onClick:()=>j(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:w?(0,s.jsx)(E.Z,{size:16}):(0,s.jsx)(z.Z,{size:16})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-gray-700 dark:text-gray-300",children:"Confirm Password"}),(0,s.jsx)(F,{type:w?"text":"password",value:x,onChange:e=>g(e.target.value),className:"bg-gray-50 dark:bg-gray-800",placeholder:"Confirm your password"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-gray-700 dark:text-gray-300",children:"Recovery Question"}),(0,s.jsx)(F,{type:"text",value:b,onChange:e=>p(e.target.value),className:"bg-gray-50 dark:bg-gray-800",placeholder:"e.g., What is your pet's name?"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-gray-700 dark:text-gray-300",children:"Recovery Answer"}),(0,s.jsx)(F,{type:"text",value:y,onChange:e=>v(e.target.value),className:"bg-gray-50 dark:bg-gray-800",placeholder:"Enter your answer"})]}),(0,s.jsx)(C,{onClick:S,disabled:N,className:"w-full",children:N?"Setting up...":"Set Password"})]}),"recovery"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(Z.Z,{size:16,className:"text-blue-600 dark:text-blue-400"}),(0,s.jsx)("span",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Recovery Question"})]}),(0,s.jsx)("p",{className:"text-blue-700 dark:text-blue-300",children:b})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-gray-700 dark:text-gray-300",children:"Your Answer"}),(0,s.jsx)(F,{type:"text",value:y,onChange:e=>v(e.target.value),className:"bg-gray-50 dark:bg-gray-800",placeholder:"Enter your recovery answer",onKeyPress:e=>"Enter"===e.key&&A()})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C,{onClick:A,disabled:N,className:"flex-1",children:N?"Verifying...":"Verify Answer"}),(0,s.jsx)(C,{onClick:()=>h("reset"),variant:"outline",className:"text-red-600 dark:text-red-400",children:"Reset All"})]})]}),"reset"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(M.Z,{size:16,className:"text-red-600 dark:text-red-400"}),(0,s.jsx)("span",{className:"font-medium text-red-800 dark:text-red-300",children:"Warning"})]}),(0,s.jsx)("p",{className:"text-red-700 dark:text-red-300 text-sm",children:"This will permanently delete all data for this component and remove password protection. This action cannot be undone."})]}),(0,s.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(R.Z,{size:16,className:"text-yellow-600 dark:text-yellow-400"}),(0,s.jsx)("span",{className:"font-medium text-yellow-800 dark:text-yellow-300",children:"Backup Your Data"})]}),(0,s.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mb-3",children:"Consider creating a backup before resetting to avoid losing important data."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(C,{onClick:B,variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:[(0,s.jsx)(P.Z,{size:14,className:"mr-1"}),"Backup"]}),(0,s.jsxs)(C,{onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)try{let e=await T.restoreFromBackup(a);localStorage.setItem("neofocus-data",JSON.stringify(e)),O.A.success("Data restored successfully. Please refresh the page.")}catch(e){O.A.error("Failed to restore backup")}},e.click()},variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:[(0,s.jsx)(I.Z,{size:14,className:"mr-1"}),"Restore"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C,{onClick:()=>h("recovery"),variant:"outline",className:"flex-1",children:"Go Back"}),(0,s.jsx)(C,{onClick:()=>{T.removeComponentPassword(n),T.resetComponentData(n),O.A.success("Password reset. All data has been cleared."),c(),L()},variant:"destructive",className:"flex-1",children:"Reset All Data"})]})]})]}),(0,s.jsx)(C,{onClick:L,variant:"ghost",className:"w-full mt-4",children:"Cancel"})]})})}):null}class G{async getAllData(){try{var e,t;if(this.isPyWebView&&(null===(t=window.pywebview)||void 0===t?void 0:null===(e=t.api)||void 0===e?void 0:e.load_data)){console.log("Fetching data via PyWebView API...");let e=await window.pywebview.api.load_data();return this.formatData(e)}if(this.isPythonDesktop)return console.log("Fetching data from HTTP API..."),await this.getDataFromAPI();{console.log("Fetching data from localStorage...");let e=localStorage.getItem("neofocus-data");return e?JSON.parse(e):this.getDefaultData()}}catch(e){return console.error("Error getting all data:",e),this.getDefaultData()}}async getDataFromAPI(){try{let e=await fetch("".concat(this.apiBaseUrl,"/data"));if(!e.ok)return console.log("No existing data found, using default data"),this.getDefaultData();{let t=await e.json();return localStorage.setItem("neofocus-data",JSON.stringify(t)),this.formatData(t)}}catch(e){return console.log("Error reading from API, using default data:",e),this.getDefaultData()}}formatData(e){return{events:e.events||[],tasks:e.tasks||[],habits:e.habits||[],goals:e.goals||[],notes:e.notes||[],journals:e.journals||[],reminders:e.reminders||[],achievements:e.achievements||[],focusSessions:e.focusSessions||[],settings:e.settings||{name:"User",theme:"dark",notifications:!0,autoSave:!0,focusDuration:25,breakDuration:5,longBreakDuration:15,sessionsBeforeLongBreak:4}}}async saveDataToStorage(e){try{let t=this.formatData(e);localStorage.setItem("neofocus-data",JSON.stringify(t)),this.isPyWebView?await window.pywebview.api.save_data(t)?console.log("Data saved successfully via PyWebView"):console.log("Warning: Could not save via PyWebView"):this.isPythonDesktop&&((await fetch("".concat(this.apiBaseUrl,"/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?console.log("Data saved successfully via HTTP API"):console.log("Warning: Could not save via HTTP API"))}catch(e){console.log("Warning: Could not save to storage, but data is saved in localStorage:",e)}}async saveEvents(e){try{let t={...await this.getAllData(),events:e};await this.saveDataToStorage(t),console.log("Events saved successfully")}catch(e){throw console.error("Error saving events:",e),e}}async saveTasks(e){try{let t={...await this.getAllData(),tasks:e};await this.saveDataToStorage(t),console.log("Tasks saved successfully")}catch(e){throw console.error("Error saving tasks:",e),e}}async saveHabits(e){try{let t={...await this.getAllData(),habits:e};await this.saveDataToStorage(t),console.log("Habits saved successfully")}catch(e){throw console.error("Error saving habits:",e),e}}async saveGoals(e){try{let t={...await this.getAllData(),goals:e};await this.saveDataToStorage(t),console.log("Goals saved successfully")}catch(e){throw console.error("Error saving goals:",e),e}}async saveNotes(e){try{let t={...await this.getAllData(),notes:e};await this.saveDataToStorage(t),console.log("Notes saved successfully")}catch(e){throw console.error("Error saving notes:",e),e}}async saveJournals(e){try{let t={...await this.getAllData(),journals:e};await this.saveDataToStorage(t),console.log("Journals saved successfully")}catch(e){throw console.error("Error saving journals:",e),e}}async saveReminders(e){try{let t={...await this.getAllData(),reminders:e};await this.saveDataToStorage(t),console.log("Reminders saved successfully")}catch(e){throw console.error("Error saving reminders:",e),e}}async saveSettings(e){try{let t={...await this.getAllData(),settings:e};await this.saveDataToStorage(t),console.log("Settings saved successfully")}catch(e){throw console.error("Error saving settings:",e),e}}async saveAllData(e){try{await this.saveDataToStorage(e),console.log("All data saved successfully")}catch(e){throw console.error("Error saving all data:",e),e}}getDefaultData(){return{events:[],tasks:[],habits:[],goals:[],notes:[],journals:[],reminders:[],achievements:[],focusSessions:[],settings:{name:"User",theme:"dark",notifications:!0,autoSave:!0,focusDuration:25,breakDuration:5,longBreakDuration:15,sessionsBeforeLongBreak:4}}}constructor(){this.isPyWebView=void 0!==window.pywebview,this.isPythonDesktop=("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)&&window.location.protocol.startsWith("http"),this.apiBaseUrl="".concat(window.location.origin,"/api"),console.log("Database initialized:",this.isPyWebView?"PyWebView mode":this.isPythonDesktop?"Python Desktop mode (".concat(this.apiBaseUrl,")"):"Web mode")}}class H{static getInstance(){return H.instance||(H.instance=new H),H.instance}queueSave(e,t){this.saveQueue.set(e,t),this.saveTimeout&&clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(()=>{this.processSaveQueue()},this.SAVE_DELAY)}async forceSave(){this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),await this.processSaveQueue()}async processSaveQueue(){if(0!==this.saveQueue.size){console.log("Processing auto-save queue...");try{let e=[];for(let[t,a]of this.saveQueue)switch(t){case"events":e.push(J.saveEvents(a));break;case"tasks":e.push(J.saveTasks(a));break;case"habits":e.push(J.saveHabits(a));break;case"goals":e.push(J.saveGoals(a));break;case"notes":e.push(J.saveNotes(a));break;case"journals":e.push(J.saveJournals(a));break;case"reminders":e.push(J.saveReminders(a));break;case"settings":e.push(J.saveSettings(a))}await Promise.all(e),console.log("Auto-save completed successfully"),this.saveQueue.clear()}catch(e){console.error("Auto-save failed:",e)}}}constructor(){this.saveQueue=new Map,this.saveTimeout=null,this.SAVE_DELAY=1e3}}let J=new G,V=[{id:"calendar",label:"Calendar",icon:n.Z},{id:"tasks",label:"Tasks",icon:o.Z},{id:"habits",label:"Habits",icon:c.Z},{id:"goals",label:"Goals",icon:d.Z},{id:"notebook",label:"Notebook",icon:h.Z},{id:"journal",label:"Journal",icon:u.Z},{id:"reminders",label:"Reminders",icon:m.Z},{id:"analytics",label:"Analytics",icon:x.Z},{id:"focus",label:"Focus Mode",icon:g.Z}];function U(e){let{activeSection:t,setActiveSection:a,isCollapsed:n,setIsCollapsed:o}=e,[c,d]=(0,r.useState)("User"),[h,u]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),[g,w]=(0,r.useState)(""),[j,N]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{let e=await J.getAllData();e&&e.settings&&(e.settings.name&&d(e.settings.name),e.settings.avatar&&u(e.settings.avatar))}catch(e){console.error("Failed to load user data:",e)}})(),N(T.getProtectedComponents());let e=e=>{let{username:t,avatar:a}=e.detail;t&&d(t),void 0!==a&&u(a)};return window.addEventListener("userDataUpdated",e),()=>{window.removeEventListener("userDataUpdated",e)}},[]);let k=e=>{T.isComponentProtected(e)?(w(e),x(!0)):a(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.E.div,{initial:!1,animate:{width:n?80:280},className:"bg-white/10 dark:bg-gray-900/50 backdrop-blur-lg border-r border-white/20 dark:border-gray-700/50 flex flex-col h-full relative",children:[(0,s.jsx)(C,{onClick:()=>o(!n),variant:"ghost",size:"sm",className:"absolute -right-3 top-6 z-10 w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-200",children:n?(0,s.jsx)(b.Z,{size:12}):(0,s.jsx)(p.Z,{size:12})}),(0,s.jsx)("div",{className:"p-6 border-b border-white/10 dark:border-gray-700/50",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:h?(0,s.jsx)("img",{src:h||"/placeholder.svg",alt:"Avatar",className:"w-full h-full object-cover"}):(0,s.jsx)(y.Z,{size:20,className:"text-white"})}),(0,s.jsx)(i.M,{children:!n&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"overflow-hidden",children:[(0,s.jsx)("h3",{className:"font-bold text-white dark:text-gray-100 truncate",children:c}),(0,s.jsx)("p",{className:"text-xs text-white/60 dark:text-gray-400",children:"Focus Mode Active"})]})})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto custom-scrollbar",children:V.map(e=>{let a=e.icon,r=t===e.id,o=j.includes(e.id);return(0,s.jsxs)(l.E.button,{onClick:()=>k(e.id),className:"w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 group relative ".concat(r?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-white/70 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/50 hover:text-white dark:hover:text-white"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(a,{size:20,className:"flex-shrink-0"}),(0,s.jsx)(i.M,{children:!n&&(0,s.jsx)(l.E.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"font-medium truncate overflow-hidden",children:e.label})}),o&&(0,s.jsx)(f.Z,{size:14,className:"text-yellow-400 flex-shrink-0 ml-auto"})]},e.id)})}),(0,s.jsx)("div",{className:"p-4 border-t border-white/10 dark:border-gray-700/50",children:(0,s.jsxs)(l.E.button,{onClick:()=>a("settings"),className:"w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 ".concat("settings"===t?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-white/70 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/50 hover:text-white dark:hover:text-white"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(v.Z,{size:20,className:"flex-shrink-0"}),(0,s.jsx)(i.M,{children:!n&&(0,s.jsx)(l.E.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"font-medium truncate overflow-hidden",children:"Settings"})})]})})]}),(0,s.jsx)(q,{isOpen:m,onClose:()=>{x(!1),w("")},componentId:g,componentName:(e=>{let t=V.find(t=>t.id===e);return(null==t?void 0:t.label)||e})(g),onSuccess:()=>{a(g),x(!1),w("")}})]})}var Y=a(7586),K=a(41473),_=a(92451),Q=a(10407),$=a(99397),X=a(15868),ee=a(18930),et=a(56604),ea=a(8971),es=a(38549),er=a(11112),el=a(39006),ei=a(56739),en=a(26062),eo=a(646),ec=a(2575),ed=a(70888),eh=a(6364),eu=a(6496),em=a(15047),ex=a(39383);let eg={work:{label:"Work",color:"#3b82f6",bg:"bg-blue-500"},personal:{label:"Personal",color:"#10b981",bg:"bg-green-500"},health:{label:"Health",color:"#f59e0b",bg:"bg-yellow-500"},social:{label:"Social",color:"#ec4899",bg:"bg-pink-500"},deadline:{label:"Deadline",color:"#ef4444",bg:"bg-red-500"},birthday:{label:"Birthday",color:"#f97316",bg:"bg-orange-500"},holiday:{label:"Holiday",color:"#06b6d4",bg:"bg-cyan-500"},meeting:{label:"Meeting",color:"#8b5cf6",bg:"bg-purple-500"},reminder:{label:"Reminder",color:"#10b981",bg:"bg-green-500"},important:{label:"Important",color:"#f59e0b",bg:"bg-yellow-500"},other:{label:"Other",color:"#8b5cf6",bg:"bg-purple-500"}},eb=["January","February","March","April","May","June","July","August","September","October","November","December"];function ep(e){var t;let{isOpen:a,onClose:n,event:o,onAddComment:c}=e,[d,h]=(0,r.useState)(""),u=()=>{d.trim()&&(c(o.id,d.trim()),h(""))};return a?(0,s.jsx)(i.M,{children:(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,s.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"w-full max-w-md bg-black/90 dark:bg-gray-900/90 backdrop-blur-lg rounded-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:"Past Event"}),(0,s.jsx)("span",{className:"text-xs text-purple-300 bg-purple-500/20 px-2 py-1 rounded-full",children:"Read Only"})]}),(0,s.jsx)(C,{variant:"ghost",size:"sm",onClick:n,className:"text-white/60 hover:text-white hover:bg-white/10",children:(0,s.jsx)(p.Z,{size:16})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Event Title"}),(0,s.jsx)("div",{className:"p-3 rounded-xl bg-black/20 border border-white/10 text-white",children:o.title})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Date"}),(0,s.jsx)("div",{className:"p-3 rounded-xl bg-black/20 border border-white/10 text-white",children:(0,et.WU)(new Date(o.date),"MMM dd, yyyy")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Time"}),(0,s.jsx)("div",{className:"p-3 rounded-xl bg-black/20 border border-white/10 text-white",children:o.time})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Category"}),(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-black/20 border border-white/10 text-white flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),(null===(t=eg[o.type])||void 0===t?void 0:t.label)||o.type]})]}),o.location&&(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Location"}),(0,s.jsx)("div",{className:"p-3 rounded-xl bg-black/20 border border-white/10 text-white",children:o.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Description"}),(0,s.jsx)("div",{className:"p-3 rounded-xl bg-black/20 border border-white/10 text-white min-h-[60px]",children:o.description||"No description provided"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Comments"}),(0,s.jsxs)("div",{className:"space-y-3",children:[o.comments&&o.comments.length>0?(0,s.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:o.comments.map((e,t)=>(0,s.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/20 border border-purple-500/30",children:(0,s.jsx)("p",{className:"text-sm text-white/90",children:e})},t))}):(0,s.jsx)("div",{className:"text-sm text-white/40 italic",children:"No comments yet"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(F,{value:d,onChange:e=>h(e.target.value),placeholder:"Add a comment about this event...",className:"flex-1 bg-black/20 border-white/10 text-white placeholder-white/50 focus:ring-purple-500/50",onKeyPress:e=>{"Enter"===e.key&&u()}}),(0,s.jsx)(C,{onClick:u,disabled:!d.trim(),size:"sm",className:"bg-purple-500 hover:bg-purple-600 disabled:opacity-50",children:"Add"})]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-6",children:(0,s.jsx)(C,{onClick:n,variant:"outline",className:"border-white/20 text-white/80 hover:bg-white/10 bg-transparent",children:"Close"})})]})})}):null}function ey(e){var t;let{isOpen:a,onClose:n,onSave:o,event:c,selectedDate:d}=e,h=(0,et.WU)(new Date,"yyyy-MM-dd"),[u,m]=(0,r.useState)({title:"",description:"",date:d?(0,et.WU)(d,"yyyy-MM-dd"):h,time:"09:00",location:"",type:"personal",color:eg.personal.color});(0,r.useEffect)(()=>{if(c)m({title:c.title,description:c.description,date:c.date,time:c.time,location:c.location,type:c.type,color:c.color});else if(d){let e=(0,et.WU)(d,"yyyy-MM-dd"),t=e>=h;m(a=>({...a,date:t?e:h}))}},[c,d,h]);let x=(e,t)=>{m(a=>({...a,[e]:t}))};return a?(0,s.jsx)(i.M,{children:(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,s.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"w-full max-w-md bg-black/90 dark:bg-gray-900/90 backdrop-blur-lg rounded-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:c?"Edit Event":"Create Event"}),(0,s.jsx)(C,{variant:"ghost",size:"sm",onClick:n,className:"text-white/60 hover:text-white hover:bg-white/10",children:(0,s.jsx)(p.Z,{size:16})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Event Title"}),(0,s.jsx)(F,{value:u.title||"",onChange:e=>x("title",e.target.value),placeholder:"Enter event title...",className:"bg-black/20 border-white/10 text-white placeholder-white/50 focus:ring-purple-500/50"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Date"}),(0,s.jsx)(F,{type:"date",value:u.date||"",min:h,onChange:e=>{let t=e.target.value;t>=h?x("date",t):(alert("Cannot select dates before today."),e.target.value=h,x("date",h))},className:"bg-black/20 border-white/10 text-white focus:ring-purple-500/50"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Time"}),(0,s.jsx)(F,{type:"time",value:u.time||"",onChange:e=>x("time",e.target.value),className:"bg-black/20 border-white/10 text-white focus:ring-purple-500/50"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Category"}),(0,s.jsx)("select",{value:u.type||"personal",onChange:e=>x("type",e.target.value),className:"w-full p-3 rounded-xl bg-black/20 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-purple-500/50",children:Object.entries(eg).map(e=>{let[t,a]=e;return(0,s.jsx)("option",{value:t,className:"bg-gray-800",children:a.label},t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Location (Optional)"}),(0,s.jsx)(F,{value:u.location||"",onChange:e=>x("location",e.target.value),placeholder:"Enter location...",className:"bg-black/20 border-white/10 text-white placeholder-white/50 focus:ring-purple-500/50"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{className:"text-white/80 mb-2 block",children:"Description"}),(0,s.jsx)("textarea",{value:u.description||"",onChange:e=>x("description",e.target.value),placeholder:"Enter event description...",rows:3,className:"w-full p-3 rounded-xl bg-black/20 border border-white/10 text-white placeholder-white/50 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)(C,{onClick:n,variant:"outline",className:"flex-1 border-white/20 text-white/80 hover:bg-white/10 bg-transparent",children:"Cancel"}),(0,s.jsxs)(C,{onClick:()=>{var e,t;if(null===(e=u.title)||void 0===e?void 0:e.trim()){if(u.date&&u.date<h){alert("Cannot create events for dates before today.");return}o({...u,color:(null===(t=eg[u.type])||void 0===t?void 0:t.color)||eg.personal.color}),n()}},disabled:!(null===(t=u.title)||void 0===t?void 0:t.trim()),className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",children:[c?"Update":"Create"," Event"]})]})]})})}):null}function ef(e){let{events:t,setEvents:a}=e,[o,c]=(0,r.useState)(new Date),[d,h]=(0,r.useState)(null),[u,m]=(0,r.useState)("month"),[x,g]=(0,r.useState)(!1),[b,p]=(0,r.useState)(null),[y,f]=(0,r.useState)(null),[v,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),k=e=>{let a=(0,et.WU)(e,"yyyy-MM-dd");return t.filter(e=>e.date===a)},D=(e,a)=>t.filter(t=>{let s=new Date(t.date);return s.getFullYear()===e&&s.getMonth()===a}),S=e=>{a(t.filter(t=>t.id!==e)),console.log("Deleted event:",e)},A=e=>{let t=new Date;if(t.setHours(0,0,0,0),e<t){alert("Cannot create events for dates before today.");return}h(e),p(null),g(!0)},T=e=>{p(e),h(new Date(e.date)),g(!0)},E=e=>{N(e),w(!0)},z=e=>{"month"===u?c("next"===e?(0,ea.z)(o,1):(0,es.W)(o,1)):c("next"===e?(0,er.B)(o,1):(0,el.e)(o,1))},Z=(e,t)=>{c(new Date(e,t,1)),m("month")},M=(0,ei.N)(o),R=(0,en.V)(o),P=(0,eo.z)(M),I=(0,ec.v)(R),F=(0,ed.D)({start:P,end:I});return(0,s.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[(0,s.jsxs)(l.E.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"flex items-center justify-between p-6 bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Z,{size:24,className:"text-purple-400"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"month"===u?(0,et.WU)(o,"MMMM yyyy"):(0,et.WU)(o,"yyyy")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,s.jsxs)(C,{variant:"month"===u?"default":"outline",size:"sm",onClick:()=>m("month"),className:"month"===u?"bg-purple-600 hover:bg-purple-700":"border-white/20 text-white/80 hover:bg-white/10",children:[(0,s.jsx)(Y.Z,{size:16,className:"mr-1"}),"Month"]}),(0,s.jsxs)(C,{variant:"year"===u?"default":"outline",size:"sm",onClick:()=>m("year"),className:"year"===u?"bg-purple-600 hover:bg-purple-700":"border-white/20 text-white/80 hover:bg-white/10",children:[(0,s.jsx)(K.Z,{size:16,className:"mr-1"}),"Year"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C,{variant:"outline",size:"sm",onClick:()=>z("prev"),className:"border-white/20 text-white/80 hover:bg-white/10",children:(0,s.jsx)(_.Z,{size:16})}),(0,s.jsx)(C,{variant:"outline",size:"sm",onClick:()=>z("next"),className:"border-white/20 text-white/80 hover:bg-white/10",children:(0,s.jsx)(Q.Z,{size:16})}),(0,s.jsxs)(C,{onClick:()=>{h(new Date),p(null),g(!0)},className:"ml-4 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",children:[(0,s.jsx)($.Z,{size:16,className:"mr-2"}),"Add Event"]})]})]}),(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-1 bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6 overflow-hidden",children:"month"===u?(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)("div",{className:"text-center text-white/60 font-medium py-2",children:e},e))}),(0,s.jsx)("div",{className:"flex-1 grid grid-cols-7 gap-2 overflow-hidden",children:F.map((e,t)=>{let a=k(e),r=(0,eh.x)(e,o),n=(0,eu.K)(e,new Date),c=d&&(0,eu.K)(e,d),h=new Date;h.setHours(0,0,0,0);let u=e<h;return(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.01*t},className:"relative group rounded-xl border transition-all duration-200 ".concat(u?"bg-black/5 dark:bg-gray-800/5 border-white/5 text-white/20 cursor-not-allowed opacity-50":r?"bg-black/10 dark:bg-gray-700/20 backdrop-blur-sm border-white/10 hover:border-white/30 hover:bg-black/20 cursor-pointer":"bg-black/5 dark:bg-gray-800/10 border-white/5 text-white/40"," ").concat(n?"ring-2 ring-purple-400/50 bg-purple-500/10":""," ").concat(c?"ring-2 ring-blue-400/50 bg-blue-500/10":""),onClick:()=>!u&&A(e),onMouseEnter:()=>!u&&f(e),onMouseLeave:()=>f(null),children:[(0,s.jsxs)("div",{className:"p-2 flex items-start justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium ".concat(u?"text-white/20":r?"text-white":"text-white/40"," ").concat(n?"text-purple-300":""),children:(0,et.WU)(e,"d")}),(0,s.jsx)(i.M,{children:y&&(0,eu.K)(y,e)&&!u&&(0,s.jsx)(l.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:t=>{t.stopPropagation(),A(e)},className:"w-6 h-6 rounded-full bg-purple-500 hover:bg-purple-600 flex items-center justify-center transition-colors",title:"Add event",children:(0,s.jsx)($.Z,{size:12,className:"text-white"})})})]}),(0,s.jsxs)("div",{className:"px-2 pb-2 space-y-1 min-h-[60px]",children:[a.slice(0,3).map(e=>{let t=new Date(e.date),a=new Date;a.setHours(0,0,0,0);let r=t<a;return(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group/event relative",children:[(0,s.jsxs)("div",{className:"text-xs p-1 rounded-md truncate cursor-pointer transition-all hover:scale-105 ".concat(r?"opacity-75":""),style:{backgroundColor:"".concat(e.color,"20"),borderLeft:"3px solid ".concat(e.color)},onClick:t=>{t.stopPropagation(),r?E(e):T(e)},title:"".concat(e.title," - ").concat(e.time).concat(r?" (Past Event)":""),children:[(0,s.jsx)("span",{className:"text-white/90",children:e.title}),r&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)("span",{className:"text-xs text-white/60",children:"(Past)"}),e.comments&&e.comments.length>0&&(0,s.jsxs)("span",{className:"text-xs text-purple-300",children:["\uD83D\uDCAC ",e.comments.length]})]})]}),!r&&(0,s.jsxs)("div",{className:"absolute right-1 top-0 opacity-0 group-hover/event:opacity-100 transition-opacity flex gap-1",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),T(e)},className:"w-4 h-4 rounded bg-blue-500/80 hover:bg-blue-600 flex items-center justify-center",title:"Edit event",children:(0,s.jsx)(X.Z,{size:8,className:"text-white"})}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),S(e.id)},className:"w-4 h-4 rounded bg-red-500/80 hover:bg-red-600 flex items-center justify-center",title:"Delete event",children:(0,s.jsx)(ee.Z,{size:8,className:"text-white"})})]})]},e.id)}),a.length>3&&(0,s.jsxs)("div",{className:"text-xs text-white/60 text-center py-1",children:["+",a.length-3," more"]})]})]},e.toISOString())})})]}):(0,s.jsx)("div",{className:"h-full overflow-y-auto scrollbar-thin scrollbar-thumb-purple-500/50 scrollbar-track-transparent",children:(0,s.jsx)("div",{className:"grid grid-cols-3 gap-6",children:eb.map((e,t)=>{let a=D((0,em.S)(o),t),r=(0,ex.j)(new Date)===t&&(0,em.S)(new Date)===(0,em.S)(o);return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"p-4 rounded-xl border cursor-pointer transition-all duration-200 backdrop-blur-sm ".concat(r?"bg-purple-500/20 border-purple-400/50 ring-2 ring-purple-400/30":"bg-black/10 dark:bg-gray-700/20 border-white/10 hover:border-white/30 hover:bg-black/20"),onClick:()=>Z((0,em.S)(o),t),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:e}),(0,s.jsxs)("div",{className:"text-sm text-white/60",children:[a.length," events"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[a.slice(0,3).map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{className:"text-white/80 truncate",children:e.title})]},e.id)),a.length>3&&(0,s.jsxs)("div",{className:"text-xs text-white/60 text-center",children:["+",a.length-3," more events"]}),0===a.length&&(0,s.jsx)("div",{className:"text-xs text-white/40 text-center py-2",children:"No events this month"})]})]},t)})})})}),(0,s.jsx)(ey,{isOpen:x,onClose:()=>{g(!1),p(null),h(null)},onSave:b?e=>{b&&(a(t.map(t=>t.id===b.id?{...t,...e,updatedAt:new Date().toISOString()}:t)),p(null),console.log("Updated event:",b.id))}:e=>{let s={id:Date.now().toString(),title:e.title||"",description:e.description||"",date:e.date||(0,et.WU)(new Date,"yyyy-MM-dd"),time:e.time||"09:00",location:e.location,type:e.type||"personal",color:e.color||eg.personal.color,createdAt:new Date().toISOString(),comments:[]};a([...t,s]),console.log("Created new event:",s.id)},event:b,selectedDate:d||void 0}),j&&(0,s.jsx)(ep,{isOpen:v,onClose:()=>{w(!1),N(null)},event:j,onAddComment:(e,s)=>{a(t.map(t=>t.id===e?{...t,comments:[...t.comments||[],s]}:t)),console.log("Added comment to event:",e)}})]})}var ev=a(49322),ew=a(30401),ej=a(46211);function eN(e){let{tasks:t,setTasks:a}=e,[l,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)("all"),[d,h]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[x,g]=(0,r.useState)({title:"",description:"",priority:"medium",dueDate:""}),b=t.filter(e=>"pending"===o?!e.completed:"completed"!==o||e.completed).sort((e,t)=>{if(e.completed!==t.completed)return e.completed?1:-1;let a={high:3,medium:2,low:1};return a[t.priority]-a[e.priority]}),y=e=>{let s=t.find(t=>t.id===e);if(s){if(!s.completed&&s.dueDate){let e=new Date,t=new Date(s.dueDate);if(e.setHours(0,0,0,0),t.setHours(0,0,0,0),e<t){let e=new Date(s.dueDate).toLocaleDateString();m("This task cannot be marked complete yet. It's scheduled for ".concat(e,".")),h(!0),setTimeout(()=>{h(!1)},4e3);return}}a(t.map(t=>t.id===e?{...t,completed:!t.completed}:t))}},f=e=>{a(t.filter(t=>t.id!==e))},v=e=>{switch(e){case"high":return"text-red-400 border-red-400";case"medium":return"text-yellow-400 border-yellow-400";case"low":return"text-green-400 border-green-400";default:return"text-gray-400 border-gray-400"}},w=t.filter(e=>e.completed).length,j=t.filter(e=>!e.completed).length;return(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Tasks"}),(0,s.jsxs)(C,{onClick:()=>i(!0),className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[(0,s.jsx)($.Z,{size:20,className:"mr-2"}),"Add Task"]})]}),d&&(0,s.jsx)("div",{className:"mb-6 bg-yellow-500/20 backdrop-blur-lg rounded-xl border border-yellow-500/30 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ev.Z,{size:20,className:"text-yellow-400 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-medium text-yellow-400 mb-1",children:"Task Schedule Restriction"}),(0,s.jsx)("p",{className:"text-white/80 text-sm",children:u})]}),(0,s.jsx)("button",{onClick:()=>h(!1),className:"text-white/60 hover:text-white transition-colors",children:(0,s.jsx)(p.Z,{size:16})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-xl border border-white/10 p-4",children:[(0,s.jsx)("h3",{className:"text-white/60 text-sm",children:"Total Tasks"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:t.length})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-xl border border-white/10 p-4",children:[(0,s.jsx)("h3",{className:"text-white/60 text-sm",children:"Pending"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:j})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-xl border border-white/10 p-4",children:[(0,s.jsx)("h3",{className:"text-white/60 text-sm",children:"Completed"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-400",children:w})]})]}),(0,s.jsx)("div",{className:"flex gap-2 mb-6",children:["all","pending","completed"].map(e=>(0,s.jsx)("button",{onClick:()=>c(e),className:"px-4 py-2 rounded-lg capitalize transition-all duration-200 ".concat(o===e?"bg-gradient-to-r from-purple-500 to-blue-500 text-white":"bg-black/20 text-white/60 hover:bg-white/10"),children:e},e))}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 p-6 h-full",children:[(0,s.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:b.map(e=>{let t=e.dueDate&&!e.completed&&new Date(e.dueDate)<new Date,a=e.dueDate&&!e.completed&&new Date(e.dueDate)>new Date;return(0,s.jsx)("div",{className:"p-4 rounded-xl border transition-all duration-200 ".concat(e.completed?"bg-green-500/10 border-green-500/20":t?"bg-red-500/10 border-red-500/20":a?"bg-blue-500/10 border-blue-500/20":"bg-white/5 border-white/10 hover:bg-white/10"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("button",{onClick:()=>y(e.id),className:"mt-1 w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-200 ".concat(e.completed?"bg-green-500 border-green-500":a?"border-blue-400/50 cursor-not-allowed opacity-60":"border-white/30 hover:border-white/50"),title:a?"Cannot complete before due date":"",children:e.completed&&(0,s.jsx)(ew.Z,{size:12,className:"text-white"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h3",{className:"font-medium ".concat(e.completed?"line-through text-white/60":""),children:e.title}),(0,s.jsxs)("span",{className:"px-2 py-1 rounded text-xs border ".concat(v(e.priority)),children:[(0,s.jsx)(ej.Z,{size:10,className:"inline mr-1"}),e.priority]}),a&&(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs border border-blue-400/50 text-blue-400",children:"Scheduled"}),t&&(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs border border-red-400/50 text-red-400",children:"Overdue"})]}),e.description&&(0,s.jsx)("p",{className:"text-sm mb-2 ".concat(e.completed?"text-white/40":"text-white/60"),children:e.description}),e.dueDate&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-white/50",children:[(0,s.jsx)(n.Z,{size:12}),(0,s.jsxs)("span",{children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]}),(0,s.jsx)("button",{onClick:()=>f(e.id),className:"text-white/40 hover:text-red-400 transition-colors duration-200",children:(0,s.jsx)(p.Z,{size:16})})]})},e.id)})}),0===b.length&&(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-white/60",children:"No tasks found"})})]}),l&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-900 to-indigo-900 p-6 rounded-2xl border border-white/20 w-96",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Add New Task"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Task title",value:x.title,onChange:e=>g({...x,title:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 border border-white/10 text-white placeholder-white/50"}),(0,s.jsx)("textarea",{placeholder:"Task description (optional)",value:x.description,onChange:e=>g({...x,description:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 border border-white/10 text-white placeholder-white/50 h-20 resize-none"}),(0,s.jsxs)("select",{value:x.priority,onChange:e=>g({...x,priority:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 border border-white/10 text-white",children:[(0,s.jsx)("option",{value:"low",children:"Low Priority"}),(0,s.jsx)("option",{value:"medium",children:"Medium Priority"}),(0,s.jsx)("option",{value:"high",children:"High Priority"})]}),(0,s.jsx)("input",{type:"date",value:x.dueDate,onChange:e=>g({...x,dueDate:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 border border-white/10 text-white"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C,{onClick:()=>{x.title&&(a([{id:Date.now().toString(),title:x.title,description:x.description,completed:!1,priority:x.priority,dueDate:x.dueDate,createdAt:new Date().toISOString()},...t]),g({title:"",description:"",priority:"medium",dueDate:""}),i(!1))},className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500",children:"Add Task"}),(0,s.jsx)(C,{onClick:()=>i(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})]})}var ek=a(76399),eD=a(33327),eS=a(70525),eC=a(79235),eA=a(82578);function eT(e){let{habits:t,setHabits:a,achievements:n,setAchievements:o}=e,[c,h]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(""),[b,y]=(0,r.useState)({name:"",description:"",frequency:"daily",customDays:[]}),{addAchievement:f}=(0,eA.R)(),v=new Date().toISOString().split("T")[0],w=e=>{a(t.filter(t=>t.id!==e))},j=e=>{let s=t.find(t=>t.id===e);if(!s)return;let r=(s.completedDates||[]).includes(v);if(r){let e=new Date,t=e.getDay();e.getDate(),new Date(e.getFullYear(),e.getMonth()+1,0).getDate();let a=!1,r="";switch(s.frequency){case"daily":let l=new Date;l.setDate(l.getDate()+1);let i=l.toISOString().split("T")[0];(a=(s.completedDates||[]).includes(i))||(r="Daily habits can only be unmarked after the next day's completion.");break;case"weekly":let n=new Date;n.setDate(e.getDate()+(7-t)%7);let o=n.toISOString().split("T")[0];(a=(s.completedDates||[]).includes(o))||(r="Weekly habits can only be unmarked after the next Sunday (".concat(n.toLocaleDateString(),")."));break;case"monthly":let c=new Date(e.getFullYear(),e.getMonth()+1,0),d=c.toISOString().split("T")[0];(a=(s.completedDates||[]).includes(d))||(r="Monthly habits can only be unmarked after the next last day of month (".concat(c.toLocaleDateString(),")."));break;case"custom":let h=A(s);if(h){let e=h.toISOString().split("T")[0];(a=(s.completedDates||[]).includes(e))||(r="Custom habits can only be unmarked after the next scheduled day (".concat(h.toLocaleDateString(),")."))}else a=!0;break;default:a=!0}if(!a){g(r),m(!0),setTimeout(()=>{m(!1)},4e3);return}}if(!r&&!D(s)){let e="",t=new Date,a=t.getDay();t.getDate();let r=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();if("weekly"===s.frequency){let s=new Date;s.setDate(t.getDate()+(7-a)%7),e="This weekly habit can only be completed on Sundays. Next completion date: ".concat(s.toLocaleDateString())}else if("monthly"===s.frequency){let a=new Date(t.getFullYear(),t.getMonth(),r);e="This monthly habit can only be completed on the last day of the month. Next completion date: ".concat(a.toLocaleDateString())}g(e),m(!0),setTimeout(()=>{m(!1)},4e3);return}a(t.map(t=>{if(t.id===e){let e;let a=(t.completedDates||[]).includes(v),s=t.streak,r=t.longestStreak;if(a)e=t.completedDates.filter(e=>e!==v),s=Math.max(0,t.streak-1);else{e=[...t.completedDates||[],v];let a=new Date;a.setDate(a.getDate()-1);let l=a.toISOString().split("T")[0];r=Math.max(r,s=(t.completedDates||[]).includes(l)||0===t.streak?t.streak+1:1),s>0&&(N(),k(t.name,s,r))}return{...t,completedDates:e,streak:s,longestStreak:r}}return t}))},N=()=>{(0,eC.Z)({particleCount:100,spread:70,origin:{y:.6},colors:["#8b5cf6","#3b82f6","#10b981"]})},k=(e,t,a)=>{[7,30,100,365].forEach(a=>{t===a&&f({createdAt:new Date().toISOString(),type:"habit_streak",title:"".concat(a," Day Streak!"),description:'Completed "'.concat(e,'" for ').concat(a," days in a row"),icon:a>=100?"\uD83D\uDD25":a>=30?"":"\uD83C\uDF1F"})})},D=e=>{let t=new Date,a=t.getDay(),s=t.getDate(),r=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();switch(e.frequency){case"daily":default:return!0;case"weekly":return 0===a;case"monthly":return s===r;case"custom":var l;return(null===(l=e.customDays)||void 0===l?void 0:l.includes(a))||!1}},S=e=>{let t=Math.floor((new Date().getTime()-new Date(e.createdAt).getTime())/864e5)+1;return Math.round((e.completedDates||[]).length/t*100)},A=e=>{if(!e.customDays||0===e.customDays.length)return null;let t=new Date;t.getDay();for(let a=1;a<=7;a++){let s=new Date;s.setDate(t.getDate()+a);let r=s.getDay();if(e.customDays.includes(r))return s}return null},T=(()=>{let e=[];for(let t=6;t>=0;t--){let a=new Date;a.setDate(a.getDate()-t),e.push({date:a.toISOString().split("T")[0],day:a.getDate(),isToday:0===t})}return e})(),E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Habits"}),(0,s.jsxs)(C,{onClick:()=>{console.log("Add Habit button clicked"),h(!0)},className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[(0,s.jsx)($.Z,{size:20,className:"mr-2"}),"Add Habit"]})]}),u&&(0,s.jsx)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 bg-yellow-500/20 backdrop-blur-lg rounded-xl border border-yellow-500/30 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ev.Z,{size:20,className:"text-yellow-400 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-medium text-yellow-400 mb-1",children:"Habit Schedule Restriction"}),(0,s.jsx)("p",{className:"text-white/80 text-sm",children:x})]}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"text-white/60 hover:text-white transition-colors",children:(0,s.jsx)(p.Z,{size:16})})]})}),(0,s.jsx)("div",{className:"h-full overflow-y-auto",children:(0,s.jsxs)("div",{className:"grid gap-6 max-h-[800px] overflow-y-auto",children:[(0,s.jsx)(i.M,{children:t.map((e,t)=>{let a=(e.completedDates||[]).includes(v),r=S(e),i=D(e);return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*t},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.name}),e.streak>0&&(0,s.jsxs)(l.E.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1 bg-orange-500/20 text-orange-400 px-2 py-1 rounded-full text-sm",children:[(0,s.jsx)(ek.Z,{size:14}),e.streak]}),(0,s.jsx)("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-1 rounded-full capitalize",children:e.frequency})]}),e.description&&(0,s.jsx)("p",{className:"text-white/60 dark:text-gray-400 text-sm mb-3",children:e.description})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C,{onClick:()=>j(e.id),disabled:!i,className:"".concat(a?"bg-green-600 hover:bg-green-700":i?"bg-white/10 hover:bg-white/20":"bg-gray-500/20 cursor-not-allowed"),children:a?"Completed":i?"Mark Done":"Not Due"}),(0,s.jsx)(C,{onClick:()=>w(e.id),variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/20 border-red-400/30",children:(0,s.jsx)(ee.Z,{size:16})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,s.jsx)(ek.Z,{size:16,className:"text-orange-400"}),(0,s.jsx)("span",{className:"text-white/60 dark:text-gray-400 text-sm",children:"Streak"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-400",children:e.streak})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,s.jsx)(eD.Z,{size:16,className:"text-yellow-400"}),(0,s.jsx)("span",{className:"text-white/60 dark:text-gray-400 text-sm",children:"Best"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:e.longestStreak})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,s.jsx)(eS.Z,{size:16,className:"text-green-400"}),(0,s.jsx)("span",{className:"text-white/60 dark:text-gray-400 text-sm",children:"Rate"})]}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-400",children:[r,"%"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white/60 dark:text-gray-400 text-sm mb-2",children:"Last 7 days"}),(0,s.jsx)("div",{className:"flex gap-1",children:T.map(t=>{let a=(e.completedDates||[]).includes(t.date);return(0,s.jsx)(l.E.div,{whileHover:{scale:1.1},className:"w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ".concat(a?"bg-green-500 text-white":t.isToday?"bg-white/20 text-white border border-white/30":"bg-white/5 text-white/40"),children:t.day},t.date)})})]}),"custom"===e.frequency&&e.customDays&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-white/60 dark:text-gray-400 text-sm mb-2",children:"Schedule"}),(0,s.jsx)("div",{className:"flex gap-1",children:E.map((t,a)=>{var r;return(0,s.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat((null===(r=e.customDays)||void 0===r?void 0:r.includes(a))?"bg-purple-500/20 text-purple-400":"bg-white/5 text-white/40"),children:t},t)})})]})]},e.id)})}),0===t.length&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-12 text-center",children:[(0,s.jsx)(d.Z,{size:48,className:"mx-auto mb-4 text-white/40"}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No habits yet"}),(0,s.jsx)("p",{className:"text-white/60 dark:text-gray-400 mb-4",children:"Start building better habits today"}),(0,s.jsxs)(C,{onClick:()=>h(!0),className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[(0,s.jsx)($.Z,{size:16,className:"mr-2"}),"Add Your First Habit"]})]})]})}),(0,s.jsx)(i.M,{children:c&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-purple-900 to-indigo-900 dark:from-gray-800 dark:to-gray-900 p-6 rounded-2xl border border-white/20 dark:border-gray-700/50 w-96 max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Add New Habit"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Habit name",value:b.name,onChange:e=>y({...b,name:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400"}),(0,s.jsx)("textarea",{placeholder:"Description (optional)",value:b.description,onChange:e=>y({...b,description:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400 h-20 resize-none"}),(0,s.jsxs)("select",{value:b.frequency,onChange:e=>y({...b,frequency:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white",children:[(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",children:"Monthly"}),(0,s.jsx)("option",{value:"custom",children:"Custom Days"})]}),"custom"===b.frequency&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-white/60 dark:text-gray-400 mb-2",children:"Select days:"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:E.map((e,t)=>(0,s.jsx)("button",{type:"button",onClick:()=>{let e=b.customDays.includes(t)?b.customDays.filter(e=>e!==t):[...b.customDays,t];y({...b,customDays:e})},className:"px-3 py-2 rounded-lg text-sm transition-all ".concat(b.customDays.includes(t)?"bg-purple-500 text-white":"bg-white/10 dark:bg-gray-700/50 text-white/70 hover:bg-white/20"),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C,{onClick:()=>{if(console.log("addHabit called",{newHabit:b,habits:t}),b.name){let e={id:Date.now().toString(),name:b.name,description:b.description,frequency:b.frequency,customDays:"custom"===b.frequency?b.customDays:void 0,streak:0,longestStreak:0,completedDates:[],createdAt:new Date().toISOString()};console.log("Creating habit:",e),a([e,...t]),y({name:"",description:"",frequency:"daily",customDays:[]}),h(!1),console.log("Habit added successfully")}else console.log("No habit name provided")},className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500",children:"Add Habit"}),(0,s.jsx)(C,{onClick:()=>h(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})})]})}var eE=a(49474),ez=a(41671);function eZ(e){let{goals:t,setGoals:a,achievements:o,setAchievements:c}=e,[h,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)("all"),[g,b]=(0,r.useState)({title:"",description:"",type:"daily",targetValue:1,unit:"",category:"personal",deadline:""}),{addAchievement:p}=(0,eA.R)(),y=t.filter(e=>"all"===m||e.type===m),f=(e,s)=>{a(t.map(t=>{if(t.id===e){let e=s>=t.targetValue,a=t.completed;return e&&!a&&((0,eC.Z)({particleCount:200,spread:70,origin:{y:.6},colors:["#8b5cf6","#3b82f6","#10b981","#f59e0b"]}),p({createdAt:new Date().toISOString(),type:"goal_completed",title:"Goal Achieved!",description:'Completed "'.concat(t.title,'"'),icon:"\uD83C\uDFAF"})),{...t,currentValue:s,completed:e}}return t}))},v=e=>{a(t.filter(t=>t.id!==e))},w=e=>Math.min(e.currentValue/e.targetValue*100,100),j=e=>{switch(e){case"health":return"text-green-400 bg-green-400/10";case"career":return"text-blue-400 bg-blue-400/10";case"personal":return"text-purple-400 bg-purple-400/10";case"finance":return"text-yellow-400 bg-yellow-400/10";case"learning":return"text-orange-400 bg-orange-400/10";default:return"text-gray-400 bg-gray-400/10"}},N=e=>{switch(e){case"health":return"\uD83D\uDCAA";case"career":return"\uD83D\uDCBC";case"personal":return"\uD83C\uDFAF";case"finance":return"\uD83D\uDCB0";case"learning":return"\uD83D\uDCDA";default:return"\uD83D\uDCCB"}},k={daily:t.filter(e=>"daily"===e.type).length,weekly:t.filter(e=>"weekly"===e.type).length,monthly:t.filter(e=>"monthly"===e.type).length,yearly:t.filter(e=>"yearly"===e.type).length};return(0,s.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Goals"}),(0,s.jsxs)(C,{onClick:()=>u(!0),className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[(0,s.jsx)($.Z,{size:20,className:"mr-2"}),"Add Goal"]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-xl border border-white/10 dark:border-gray-700/50 p-4",children:[(0,s.jsx)("h3",{className:"text-white/60 dark:text-gray-400 text-sm",children:"Daily Goals"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:k.daily})]}),(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-xl border border-white/10 dark:border-gray-700/50 p-4",children:[(0,s.jsx)("h3",{className:"text-white/60 dark:text-gray-400 text-sm",children:"Weekly Goals"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-400",children:k.weekly})]}),(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-xl border border-white/10 dark:border-gray-700/50 p-4",children:[(0,s.jsx)("h3",{className:"text-white/60 dark:text-gray-400 text-sm",children:"Monthly Goals"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-400",children:k.monthly})]}),(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-xl border border-white/10 dark:border-gray-700/50 p-4",children:[(0,s.jsx)("h3",{className:"text-white/60 dark:text-gray-400 text-sm",children:"Yearly Goals"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-400",children:k.yearly})]})]}),(0,s.jsx)("div",{className:"flex gap-2 mb-6",children:["all","daily","weekly","monthly","yearly"].map(e=>(0,s.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(e),className:"px-4 py-2 rounded-lg capitalize transition-all duration-200 ".concat(m===e?"bg-gradient-to-r from-purple-500 to-blue-500 text-white":"bg-black/20 dark:bg-gray-800/50 text-white/60 dark:text-gray-400 hover:bg-white/10 dark:hover:bg-gray-700/50"),children:e},e))}),(0,s.jsx)("div",{className:"flex-1 bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6 overflow-hidden",children:(0,s.jsxs)("div",{className:"h-full overflow-y-auto space-y-4 pr-2",children:[(0,s.jsx)(i.M,{children:y.map((e,t)=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t},className:"p-4 rounded-xl border transition-all duration-200 ".concat(e.completed?"bg-green-500/10 border-green-500/20":"bg-white/5 dark:bg-gray-700/20 border-white/10 dark:border-gray-600/30 hover:bg-white/10 dark:hover:bg-gray-700/30"),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-lg",children:N(e.category)}),(0,s.jsx)("h3",{className:"font-bold ".concat(e.completed?"line-through text-white/60 dark:text-gray-400":""),children:e.title}),(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(j(e.category)),children:e.category}),(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-white/10 dark:bg-gray-600/30 text-white/60 dark:text-gray-400",children:e.type}),e.completed&&(0,s.jsxs)(l.E.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1 bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs",children:[(0,s.jsx)(eE.Z,{size:12}),"Completed"]})]}),e.description&&(0,s.jsx)("p",{className:"text-sm mb-2 ".concat(e.completed?"text-white/40 dark:text-gray-500":"text-white/60 dark:text-gray-400"),children:e.description})]}),(0,s.jsx)("button",{onClick:()=>v(e.id),className:"text-white/40 dark:text-gray-500 hover:text-red-400 transition-colors duration-200",children:(0,s.jsx)(ee.Z,{size:16})})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,s.jsxs)("span",{className:"text-white/60 dark:text-gray-400 flex items-center gap-1",children:[(0,s.jsx)(eS.Z,{size:14}),"Progress"]}),(0,s.jsxs)("span",{className:"text-white/80 dark:text-gray-200",children:[e.currentValue," / ",e.targetValue," ",e.unit]})]}),(0,s.jsx)("div",{className:"w-full bg-white/10 dark:bg-gray-600/30 rounded-full h-3",children:(0,s.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(w(e),"%")},transition:{duration:.5,ease:"easeOut"},className:"h-3 rounded-full transition-all duration-300 ".concat(e.completed?"bg-green-500":"bg-gradient-to-r from-purple-500 to-blue-500")})}),(0,s.jsxs)("div",{className:"text-xs text-white/50 dark:text-gray-500 mt-1",children:[Math.round(w(e)),"% complete"]})]}),!e.completed&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"number",min:"0",max:e.targetValue,value:e.currentValue,onChange:t=>f(e.id,Number(t.target.value)),className:"w-20 p-2 rounded-lg bg-black/20 dark:bg-gray-600/50 border border-white/10 dark:border-gray-500/50 text-white text-sm"}),(0,s.jsx)(C,{onClick:()=>f(e.id,e.currentValue+1),size:"sm",variant:"outline",disabled:e.currentValue>=e.targetValue,children:"+1"}),(0,s.jsxs)(C,{onClick:()=>f(e.id,e.targetValue),size:"sm",className:"bg-green-600 hover:bg-green-700",children:[(0,s.jsx)(ez.Z,{size:14,className:"mr-1"}),"Complete"]})]}),e.deadline&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-white/50 dark:text-gray-500 mt-2",children:[(0,s.jsx)(n.Z,{size:12}),(0,s.jsxs)("span",{children:["Deadline: ",new Date(e.deadline).toLocaleDateString()]})]})]},e.id))}),0===y.length&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8",children:[(0,s.jsx)(d.Z,{size:48,className:"mx-auto mb-4 text-white/40 dark:text-gray-500"}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No goals found"}),(0,s.jsx)("p",{className:"text-white/60 dark:text-gray-400 mb-4",children:"Start setting goals to track your progress"}),(0,s.jsxs)(C,{onClick:()=>u(!0),className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[(0,s.jsx)($.Z,{size:16,className:"mr-2"}),"Add Your First Goal"]})]})]})}),(0,s.jsx)(i.M,{children:h&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-purple-900 to-indigo-900 dark:from-gray-800 dark:to-gray-900 p-6 rounded-2xl border border-white/20 dark:border-gray-700/50 w-96 max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Add New Goal"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Goal title",value:g.title,onChange:e=>b({...g,title:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400"}),(0,s.jsx)("textarea",{placeholder:"Goal description (optional)",value:g.description,onChange:e=>b({...g,description:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400 h-20 resize-none"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("select",{value:g.type,onChange:e=>b({...g,type:e.target.value}),className:"p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white",children:[(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",children:"Monthly"}),(0,s.jsx)("option",{value:"yearly",children:"Yearly"})]}),(0,s.jsxs)("select",{value:g.category,onChange:e=>b({...g,category:e.target.value}),className:"p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white",children:[(0,s.jsx)("option",{value:"health",children:"\uD83D\uDCAA Health"}),(0,s.jsx)("option",{value:"career",children:"\uD83D\uDCBC Career"}),(0,s.jsx)("option",{value:"personal",children:"\uD83C\uDFAF Personal"}),(0,s.jsx)("option",{value:"finance",children:"\uD83D\uDCB0 Finance"}),(0,s.jsx)("option",{value:"learning",children:"\uD83D\uDCDA Learning"}),(0,s.jsx)("option",{value:"other",children:"\uD83D\uDCCB Other"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("input",{type:"number",min:"1",placeholder:"Target value",value:g.targetValue,onChange:e=>b({...g,targetValue:Number(e.target.value)}),className:"p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Unit (e.g., hours, books)",value:g.unit,onChange:e=>b({...g,unit:e.target.value}),className:"p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400"})]}),(0,s.jsx)("input",{type:"date",value:g.deadline,onChange:e=>b({...g,deadline:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C,{onClick:()=>{g.title&&g.targetValue>0&&(a([{id:Date.now().toString(),title:g.title,description:g.description,type:g.type,targetValue:g.targetValue,currentValue:0,unit:g.unit,category:g.category,deadline:g.deadline,completed:!1,createdAt:new Date().toISOString()},...t]),b({title:"",description:"",type:"daily",targetValue:1,unit:"",category:"personal",deadline:""}),u(!1))},className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500",children:"Add Goal"}),(0,s.jsx)(C,{onClick:()=>u(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})})]})}var eM=a(29),eR=a.n(eM),eP=a(48736),eI=a(73247),eF=a(83229),eL=a(62720),eB=a(30166);a(98527);let eW=(0,eB.default)(()=>a.e(216).then(a.t.bind(a,5600,23)),{loadableGenerated:{webpack:()=>[5600]},ssr:!1});function eO(e){let{notes:t,setNotes:a}=e,[n,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[h,u]=(0,r.useState)(""),[m,x]=(0,r.useState)({title:"",content:"",tags:[]}),[g,b]=(0,r.useState)(""),[y,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f(!0)},[]);let v=t.filter(e=>e.title.toLowerCase().includes(h.toLowerCase())||e.content.toLowerCase().includes(h.toLowerCase())||e.tags&&Array.isArray(e.tags)&&e.tags.some(e=>e.toLowerCase().includes(h.toLowerCase()))),w=e=>{a(t.filter(t=>t.id!==e)),(null==n?void 0:n.id)===e&&(o(null),d(!1)),console.log("Deleted note:",e)},j=e=>{x({title:e.title,content:e.content,tags:e.tags||[]}),d(!0),console.log("Started editing note:",e.id)},N=()=>{g.trim()&&m.tags&&Array.isArray(m.tags)&&!m.tags.includes(g.trim())&&(x({...m,tags:[...m.tags||[],g.trim()]}),b(""),console.log("Added tag:",g.trim()))},k=e=>{x({...m,tags:(m.tags||[]).filter(t=>t!==e)}),console.log("Removed tag:",e)},D=e=>{let t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""};return(0,s.jsxs)("div",{className:"flex-1 flex gap-6 h-full overflow-hidden",children:[(0,s.jsxs)(l.E.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},className:"w-80 bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eP.Z,{size:20,className:"text-purple-400"}),(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Notes"})]}),(0,s.jsx)(C,{onClick:()=>{let e={id:Date.now().toString(),title:"New Note",content:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a([e,...t]),o(e),x({title:e.title,content:e.content,tags:e.tags||[]}),d(!0),console.log("Created new note:",e.id)},size:"sm",className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",title:"Create new note",children:(0,s.jsx)($.Z,{size:16})})]}),(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)(eI.Z,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700 dark:text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search notes...",value:h,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-black dark:text-white placeholder-gray-700 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-purple-500/50 scrollbar-track-transparent hover:scrollbar-thumb-purple-400/70",children:(0,s.jsx)(i.M,{children:0===v.length?(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 text-gray-800 dark:text-gray-400",children:h?"No notes found":"No notes yet. Create your first note!"}):v.map((e,t)=>(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t},onClick:()=>o(e),className:"p-3 rounded-xl cursor-pointer transition-all duration-200 ".concat((null==n?void 0:n.id)===e.id?"bg-gradient-to-r from-purple-500/30 to-blue-500/30 border border-purple-400/30":"hover:bg-white/5 dark:hover:bg-gray-700/30"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-medium truncate text-black dark:text-white",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-800 dark:text-gray-400 truncate mt-1",children:D(e.content).substring(0,50)+"..."}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(0,s.jsxs)("div",{className:"flex gap-1 mt-2 flex-wrap",children:[e.tags.slice(0,3).map(e=>(0,s.jsx)("span",{className:"text-xs bg-purple-500/20 text-purple-800 dark:text-purple-400 px-2 py-1 rounded-full",children:e},e)),e.tags.length>3&&(0,s.jsxs)("span",{className:"text-xs text-gray-700 dark:text-gray-500",children:["+",e.tags.length-3]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-700 dark:text-gray-500 mt-1",children:new Date(e.updatedAt).toLocaleDateString()})]}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),w(e.id)},className:"text-gray-700 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 ml-2 transition-colors",title:"Delete note",children:(0,s.jsx)(ee.Z,{size:14})})]})},e.id))})})]}),(0,s.jsx)(l.E.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},className:"flex-1 bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6 flex flex-col overflow-hidden",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-black dark:text-white",children:c?"Edit Note":n.title}),(0,s.jsx)("div",{className:"flex gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(C,{onClick:()=>{n&&(a(t.map(e=>e.id===n.id?{...e,title:m.title||"Untitled",content:m.content,tags:m.tags||[],updatedAt:new Date().toISOString()}:e)),o({...n,title:m.title||"Untitled",content:m.content,tags:m.tags||[],updatedAt:new Date().toISOString()}),d(!1),console.log("Saved note:",n.id))},size:"sm",className:"bg-green-600 hover:bg-green-700",title:"Save note",children:[(0,s.jsx)(eF.Z,{size:16,className:"mr-1"}),"Save"]}),(0,s.jsxs)(C,{onClick:()=>d(!1),variant:"outline",size:"sm",title:"Cancel editing",children:[(0,s.jsx)(p.Z,{size:16,className:"mr-1"}),"Cancel"]})]}):(0,s.jsx)(C,{onClick:()=>j(n),size:"sm",variant:"outline",title:"Edit note",children:(0,s.jsx)(X.Z,{size:16})})})]}),c?(0,s.jsxs)("div",{className:"flex-1 flex flex-col gap-4 overflow-hidden",children:[(0,s.jsx)("input",{type:"text",value:m.title,onChange:e=>x({...m,title:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-black dark:text-white placeholder-gray-700 dark:placeholder-gray-400 font-bold focus:outline-none focus:ring-2 focus:ring-purple-500/50",placeholder:"Note title..."}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex gap-2 mb-2 flex-wrap",children:(m.tags||[]).map(e=>(0,s.jsxs)("span",{className:"bg-purple-500/20 text-purple-800 dark:text-purple-400 px-2 py-1 rounded-full text-sm flex items-center gap-1",children:[(0,s.jsx)(eL.Z,{size:12}),e,(0,s.jsx)("button",{onClick:()=>k(e),className:"text-purple-800 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300 ml-1",title:"Remove tag: ".concat(e),children:"\xd7"})]},e))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),onKeyPress:e=>"Enter"===e.key&&N(),placeholder:"Add tag...",className:"flex-1 p-2 rounded-lg bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-black dark:text-white placeholder-gray-700 dark:placeholder-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500/50"}),(0,s.jsx)(C,{onClick:N,size:"sm",variant:"outline",children:"Add"})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-hidden",children:y&&(0,s.jsxs)("div",{className:"jsx-ba3ddb0e989bbd21 h-full flex flex-col",children:[(0,s.jsx)(eR(),{id:"ba3ddb0e989bbd21",children:".ql-toolbar{background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.1);-webkit-border-radius:12px 12px 0 0;-moz-border-radius:12px 12px 0 0;border-radius:12px 12px 0 0}.ql-container{background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.1);border-top:none;-webkit-border-radius:0 0 12px 12px;-moz-border-radius:0 0 12px 12px;border-radius:0 0 12px 12px;color:#000;font-size:14px;height:-webkit-calc(100% - 42px);height:-moz-calc(100% - 42px);height:calc(100% - 42px)}.dark .ql-container{color:white}.ql-editor{color:#000;padding:20px;min-height:200px}.dark .ql-editor{color:white}.ql-editor.ql-blank::before{color:rgba(55,65,81,.7)}.dark .ql-editor.ql-blank::before{color:rgba(255,255,255,.5)}.ql-toolbar .ql-stroke{stroke:rgba(55,65,81,.9)}.dark .ql-toolbar .ql-stroke{stroke:rgba(255,255,255,.8)}.ql-toolbar .ql-fill{fill:rgba(55,65,81,.9)}.dark .ql-toolbar .ql-fill{fill:rgba(255,255,255,.8)}.ql-toolbar .ql-picker-label{color:rgba(55,65,81,.9)}.dark .ql-toolbar .ql-picker-label{color:rgba(255,255,255,.8)}.ql-snow .ql-picker-options{background:rgba(255,255,255,.95);border:1px solid rgba(0,0,0,.1)}.dark .ql-snow .ql-picker-options{background:rgba(0,0,0,.9);border:1px solid rgba(255,255,255,.1)}.ql-snow .ql-picker-item{color:#000}.dark .ql-snow .ql-picker-item{color:white}.ql-snow .ql-picker-item:hover{background:rgba(0,0,0,.1)}.dark .ql-snow .ql-picker-item:hover{background:rgba(255,255,255,.1)}.ql-toolbar button:hover{color:rgba(55,65,81,1)}.dark .ql-toolbar button:hover{color:rgba(255,255,255,1)}.ql-toolbar button.ql-active{color:#a855f7}"}),(0,s.jsx)(eW,{theme:"snow",value:m.content,onChange:e=>x({...m,content:e}),modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image","video"],["blockquote","code-block"],["clean"]]},formats:["header","bold","italic","underline","strike","color","background","list","bullet","indent","align","link","image","video","blockquote","code-block"],placeholder:"Start writing your note...",style:{height:"100%"}})]})})]}):(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-purple-500/50 scrollbar-track-transparent hover:scrollbar-thumb-purple-400/70",children:[n.tags&&Array.isArray(n.tags)&&n.tags.length>0&&(0,s.jsx)("div",{className:"flex gap-2 mb-4 flex-wrap",children:n.tags.map(e=>(0,s.jsxs)("span",{className:"bg-purple-500/20 text-purple-800 dark:text-purple-400 px-2 py-1 rounded-full text-sm",children:[(0,s.jsx)(eL.Z,{size:12,className:"inline mr-1"}),e]},e))}),(0,s.jsx)("div",{className:"prose prose-gray dark:prose-invert max-w-none leading-relaxed",dangerouslySetInnerHTML:{__html:n.content||"<p class='text-gray-800 dark:text-gray-400'>This note is empty. Click edit to add content.</p>"}})]})]}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(eP.Z,{size:48,className:"mx-auto mb-4 text-gray-600 dark:text-gray-400"}),(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-black dark:text-white",children:"Select a note to view"}),(0,s.jsx)("p",{className:"text-gray-800 dark:text-gray-400",children:"Choose a note from the sidebar or create a new one"})]})})})]})}var eq=a(90740),eG=a(2207),eH=a(75277),eJ=a(31734),eV=a(58310),eU=a(17881),eY=a(81328),eK=a(19680),e_=a(6387);let eQ=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:D("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});eQ.displayName="Textarea";let e$=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:D("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});e$.displayName="Card";let eX=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:D("flex flex-col space-y-1.5 p-6",a),...r})});eX.displayName="CardHeader";let e0=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:D("text-2xl font-semibold leading-none tracking-tight",a),...r})});e0.displayName="CardTitle";let e2=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:D("text-sm text-muted-foreground",a),...r})});e2.displayName="CardDescription";let e1=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:D("p-6 pt-0",a),...r})});e1.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:D("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let e5=(0,j.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function e4(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:D(e5({variant:a}),t),...r})}var e6=a(56643),e3=a(40875),e8=a(22135);let e7=e6.fC;e6.ZA;let e9=e6.B4,te=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(e6.xz,{ref:t,className:D("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,s.jsx)(e6.JO,{asChild:!0,children:(0,s.jsx)(e3.Z,{className:"h-4 w-4 opacity-50"})})]})});te.displayName=e6.xz.displayName;let tt=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e6.u_,{ref:t,className:D("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(e8.Z,{className:"h-4 w-4"})})});tt.displayName=e6.u_.displayName;let ta=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e6.$G,{ref:t,className:D("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(e3.Z,{className:"h-4 w-4"})})});ta.displayName=e6.$G.displayName;let ts=r.forwardRef((e,t)=>{let{className:a,children:r,position:l="popper",...i}=e;return(0,s.jsx)(e6.h_,{children:(0,s.jsxs)(e6.VY,{ref:t,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,s.jsx)(tt,{}),(0,s.jsx)(e6.l_,{className:D("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(ta,{})]})})});ts.displayName=e6.VY.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e6.__,{ref:t,className:D("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=e6.__.displayName;let tr=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(e6.ck,{ref:t,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(e6.wU,{children:(0,s.jsx)(ew.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(e6.eT,{children:r})]})});tr.displayName=e6.ck.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(e6.Z0,{ref:t,className:D("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=e6.Z0.displayName;var tl=a(43993);let ti=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(tl.fC,{ref:t,className:D("relative overflow-hidden",a),...l,children:[(0,s.jsx)(tl.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(tn,{}),(0,s.jsx)(tl.Ns,{})]})});ti.displayName=tl.fC.displayName;let tn=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...l}=e;return(0,s.jsx)(tl.gb,{ref:t,orientation:r,className:D("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,s.jsx)(tl.q4,{className:"relative flex-1 rounded-full bg-border"})})});tn.displayName=tl.gb.displayName;var to=a(51938);let tc=to.fC;to.xz;let td=to.h_;to.x8;let th=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(to.aV,{ref:t,className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});th.displayName=to.aV.displayName;let tu=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(td,{children:[(0,s.jsx)(th,{}),(0,s.jsxs)(to.VY,{ref:t,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsxs)(to.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});tu.displayName=to.VY.displayName;let tm=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:D("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};tm.displayName="DialogHeader";let tx=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(to.Dx,{ref:t,className:D("text-lg font-semibold leading-none tracking-tight",a),...r})});tx.displayName=to.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(to.dk,{ref:t,className:D("text-sm text-muted-foreground",a),...r})}).displayName=to.dk.displayName;var tg=a(25545);let tb=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(tg.fC,{ref:t,className:D("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,s.jsx)(tg.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(tg.e6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(tg.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});tb.displayName=tg.fC.displayName;let tp={excellent:"bg-green-500",good:"bg-blue-500",neutral:"bg-yellow-500",challenging:"bg-orange-500",difficult:"bg-red-500"},ty={excellent:"\uD83D\uDE04",good:"\uD83D\uDE0A",neutral:"\uD83D\uDE10",challenging:"\uD83D\uDE14",difficult:"\uD83D\uDE22"},tf=[{value:"system-ui, -apple-system, sans-serif",label:"Default"},{value:"Georgia, 'Times New Roman', serif",label:"Serif"},{value:"'Courier New', monospace",label:"Mono"},{value:"'Brush Script MT', cursive",label:"Handwriting"},{value:"'Helvetica Neue', sans-serif",label:"Modern"},{value:"'Playfair Display', serif",label:"Elegant"},{value:"'Comic Sans MS', cursive",label:"Casual"},{value:"'Roboto', sans-serif",label:"Professional"}],tv=[{value:"#fef08a",label:"Yellow"},{value:"#bbf7d0",label:"Green"},{value:"#bfdbfe",label:"Blue"},{value:"#fce7f3",label:"Pink"},{value:"#e9d5ff",label:"Purple"},{value:"#fed7aa",label:"Orange"}];function tw(e){let{journals:t,setJournals:a}=e,[o,c]=(0,r.useState)(""),[d,h]=(0,r.useState)("all"),[u,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),[b,y]=(0,r.useState)(null),[f,v]=(0,r.useState)({title:"",content:"",mood:"good",energy:5,gratitude:"",reflection:""}),[w,j]=(0,r.useState)({fontFamily:"system-ui, -apple-system, sans-serif",fontSize:16,textAlign:"left",highlights:[]}),[N,k]=(0,r.useState)({start:0,end:0}),D=(0,r.useMemo)(()=>t.filter(e=>{let t=e.title.toLowerCase().includes(o.toLowerCase())||e.content.toLowerCase().includes(o.toLowerCase()),a="all"===d||e.mood===d;return t&&a}),[t,o,d]),S=(0,r.useCallback)(()=>{v({title:"Journal Entry - ".concat(new Date().toLocaleDateString()),content:"",mood:"good",energy:5,gratitude:"",reflection:""}),j({fontFamily:"system-ui, -apple-system, sans-serif",fontSize:16,textAlign:"left",highlights:[]}),g(null),y(null),m(!0)},[]),A=(0,r.useCallback)(()=>{if(!f.title.trim()||!f.content.trim()){O.A.error("Please fill in title and content");return}let e={...f,date:new Date().toISOString().split("T")[0],formatting:w};x?(a(t.map(t=>t.id===x?{...t,...e,updatedAt:new Date().toISOString()}:t)),O.A.success("Journal entry updated!")):(a([{id:Date.now().toString(),...e,createdAt:new Date().toISOString()},...t]),O.A.success("Journal entry created!")),m(!1),g(null),y(null)},[f,w,x,t,a]),T=(0,r.useCallback)(e=>{let t=e.target;k({start:t.selectionStart,end:t.selectionEnd})},[]),E=(0,r.useCallback)(e=>{if(N.start===N.end){O.A.error("Please select text to highlight");return}let t={start:N.start,end:N.end,color:e};j(e=>({...e,highlights:[...e.highlights,t]})),O.A.success("Text highlighted!")},[N]),z=(0,r.useCallback)(e=>{if(N.start===N.end){O.A.error("Please select text to format");return}let t=f.content.substring(0,N.start),a=f.content.substring(N.start,N.end),s=f.content.substring(N.end),r="";"bold"===e?r="".concat(t,"**").concat(a,"**").concat(s):"italic"===e&&(r="".concat(t,"*").concat(a,"*").concat(s)),v(e=>({...e,content:r})),O.A.success("Text formatted as ".concat(e))},[f.content,N]),Z=(0,r.useCallback)((e,t)=>{if(!t)return e;let a=e;a=a.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>");let r={fontFamily:t.fontFamily,fontSize:"".concat(t.fontSize,"px"),textAlign:t.textAlign};return(0,s.jsx)("div",{style:r,dangerouslySetInnerHTML:{__html:a},className:"whitespace-pre-wrap"})},[]);return(0,s.jsxs)("div",{className:"h-full flex flex-col space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Journal"}),(0,s.jsx)("p",{className:"text-white/60",children:"Reflect on your daily experiences and growth"})]}),(0,s.jsxs)(C,{onClick:S,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[(0,s.jsx)($.Z,{className:"w-4 h-4 mr-2"}),"New Entry"]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(eI.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4"}),(0,s.jsx)(F,{placeholder:"Search journal entries...",value:o,onChange:e=>c(e.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/40"})]}),(0,s.jsxs)(e7,{value:d,onValueChange:h,children:[(0,s.jsxs)(te,{className:"w-48 bg-white/10 border-white/20 text-white",children:[(0,s.jsx)(eq.Z,{className:"w-4 h-4 mr-2"}),(0,s.jsx)(e9,{placeholder:"Filter by mood"})]}),(0,s.jsxs)(ts,{children:[(0,s.jsx)(tr,{value:"all",children:"All Moods"}),(0,s.jsx)(tr,{value:"excellent",children:"\uD83D\uDE04 Excellent"}),(0,s.jsx)(tr,{value:"good",children:"\uD83D\uDE0A Good"}),(0,s.jsx)(tr,{value:"neutral",children:"\uD83D\uDE10 Neutral"}),(0,s.jsx)(tr,{value:"challenging",children:"\uD83D\uDE14 Challenging"}),(0,s.jsx)(tr,{value:"difficult",children:"\uD83D\uDE22 Difficult"})]})]})]}),(0,s.jsx)(ti,{className:"flex-1",children:(0,s.jsx)("div",{className:"grid gap-4",children:(0,s.jsx)(i.M,{children:D.map(e=>(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"group",children:(0,s.jsxs)(e$,{className:"bg-white/10 backdrop-blur-lg border-white/20 hover:bg-white/15 transition-all duration-300 cursor-pointer",children:[(0,s.jsx)(eX,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(tp[e.mood])}),(0,s.jsx)(e0,{className:"text-white text-lg",children:e.title}),(0,s.jsx)("span",{className:"text-2xl",children:ty[e.mood]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),new Date(e.date).toLocaleDateString()]})]})}),(0,s.jsx)(e1,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-white/80 line-clamp-3",children:Z(e.content,e.formatting)}),e.gratitude&&(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("span",{className:"text-green-400 font-medium",children:"Gratitude: "}),(0,s.jsx)("span",{className:"text-white/70",children:e.gratitude})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(e4,{variant:"secondary",className:"bg-white/10 text-white/80",children:["Energy: ",e.energy,"/10"]})}),(0,s.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>y(e),className:"text-white/60 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(eG.Z,{className:"w-4 h-4"})})]})]})})]})},e.id))})})}),(0,s.jsx)(tc,{open:u,onOpenChange:m,children:(0,s.jsxs)(tu,{className:"max-w-4xl max-h-[90vh] bg-gray-900/95 backdrop-blur-lg border-white/20 text-white",children:[(0,s.jsx)(tm,{children:(0,s.jsx)(tx,{className:"text-xl",children:x?"Edit Journal Entry":"Create New Journal Entry"})}),(0,s.jsxs)("div",{className:"space-y-6 overflow-y-auto",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Title"}),(0,s.jsx)(F,{value:f.title,onChange:e=>v(t=>({...t,title:e.target.value})),className:"bg-white/10 border-white/20 text-white",placeholder:"Enter journal title..."})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 p-3 bg-white/5 rounded-lg border border-white/10",children:[(0,s.jsxs)(e7,{value:w.fontFamily,onValueChange:e=>j(t=>({...t,fontFamily:e})),children:[(0,s.jsxs)(te,{className:"w-40 bg-white/10 border-white/20 text-white text-xs",children:[(0,s.jsx)(eH.Z,{className:"w-3 h-3 mr-1"}),(0,s.jsx)(e9,{})]}),(0,s.jsx)(ts,{children:tf.map(e=>(0,s.jsx)(tr,{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-white/60",children:"Size:"}),(0,s.jsx)(F,{type:"number",min:"12",max:"24",value:w.fontSize,onChange:e=>j(t=>({...t,fontSize:Number.parseInt(e.target.value)||16})),className:"w-16 bg-white/10 border-white/20 text-white text-xs"})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(C,{variant:"left"===w.textAlign?"default":"ghost",size:"sm",onClick:()=>j(e=>({...e,textAlign:"left"})),className:"p-2",children:(0,s.jsx)(eJ.Z,{className:"w-3 h-3"})}),(0,s.jsx)(C,{variant:"center"===w.textAlign?"default":"ghost",size:"sm",onClick:()=>j(e=>({...e,textAlign:"center"})),className:"p-2",children:(0,s.jsx)(eV.Z,{className:"w-3 h-3"})}),(0,s.jsx)(C,{variant:"right"===w.textAlign?"default":"ghost",size:"sm",onClick:()=>j(e=>({...e,textAlign:"right"})),className:"p-2",children:(0,s.jsx)(eU.Z,{className:"w-3 h-3"})})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>z("bold"),className:"p-2",children:(0,s.jsx)(eY.Z,{className:"w-3 h-3"})}),(0,s.jsx)(C,{variant:"ghost",size:"sm",onClick:()=>z("italic"),className:"p-2",children:(0,s.jsx)(eK.Z,{className:"w-3 h-3"})})]}),(0,s.jsxs)(e7,{onValueChange:E,children:[(0,s.jsxs)(te,{className:"w-32 bg-white/10 border-white/20 text-white text-xs",children:[(0,s.jsx)(e_.Z,{className:"w-3 h-3 mr-1"}),(0,s.jsx)(e9,{placeholder:"Highlight"})]}),(0,s.jsx)(ts,{children:tv.map(e=>(0,s.jsx)(tr,{value:e.value,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:e.value}}),e.label]})},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Content"}),(0,s.jsx)(eQ,{value:f.content,onChange:e=>v(t=>({...t,content:e.target.value})),onSelect:T,className:"min-h-[200px] bg-white/10 border-white/20 text-white resize-none",placeholder:"Write your thoughts, experiences, and reflections...",style:{fontFamily:w.fontFamily,fontSize:"".concat(w.fontSize,"px"),textAlign:w.textAlign}})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Mood"}),(0,s.jsxs)(e7,{value:f.mood,onValueChange:e=>v(t=>({...t,mood:e})),children:[(0,s.jsx)(te,{className:"bg-white/10 border-white/20 text-white",children:(0,s.jsx)(e9,{})}),(0,s.jsxs)(ts,{children:[(0,s.jsx)(tr,{value:"excellent",children:"\uD83D\uDE04 Excellent"}),(0,s.jsx)(tr,{value:"good",children:"\uD83D\uDE0A Good"}),(0,s.jsx)(tr,{value:"neutral",children:"\uD83D\uDE10 Neutral"}),(0,s.jsx)(tr,{value:"challenging",children:"\uD83D\uDE14 Challenging"}),(0,s.jsx)(tr,{value:"difficult",children:"\uD83D\uDE22 Difficult"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:["Energy Level: ",f.energy,"/10"]}),(0,s.jsx)(tb,{value:[f.energy],onValueChange:e=>{let[t]=e;return v(e=>({...e,energy:t}))},max:10,min:1,step:1,className:"mt-2"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Gratitude"}),(0,s.jsx)(eQ,{value:f.gratitude,onChange:e=>v(t=>({...t,gratitude:e.target.value})),className:"bg-white/10 border-white/20 text-white resize-none",placeholder:"What are you grateful for today?",rows:2})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-white/80 mb-2 block",children:"Reflection"}),(0,s.jsx)(eQ,{value:f.reflection,onChange:e=>v(t=>({...t,reflection:e.target.value})),className:"bg-white/10 border-white/20 text-white resize-none",placeholder:"What did you learn today? How can you improve tomorrow?",rows:2})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/10",children:[(0,s.jsxs)(C,{variant:"ghost",onClick:()=>m(!1),className:"text-white/60 hover:text-white",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,s.jsxs)(C,{onClick:A,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[(0,s.jsx)(eF.Z,{className:"w-4 h-4 mr-2"}),x?"Update Entry":"Save Entry"]})]})]})]})}),(0,s.jsx)(tc,{open:!!b,onOpenChange:()=>y(null),children:(0,s.jsx)(tu,{className:"max-w-3xl max-h-[90vh] bg-gray-900/95 backdrop-blur-lg border-white/20 text-white",children:b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tm,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(tx,{className:"text-xl",children:b.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),new Date(b.date).toLocaleDateString()]})]})}),(0,s.jsxs)("div",{className:"space-y-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(tp[b.mood])}),(0,s.jsxs)("span",{className:"text-white/80",children:["Mood: ",ty[b.mood]," ",b.mood]})]}),(0,s.jsxs)(e4,{variant:"secondary",className:"bg-white/10 text-white/80",children:["Energy: ",b.energy,"/10"]})]}),(0,s.jsx)("div",{className:"prose prose-invert max-w-none",children:Z(b.content,b.formatting)}),b.gratitude&&(0,s.jsxs)("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[(0,s.jsx)("h4",{className:"text-green-400 font-medium mb-2",children:"Gratitude"}),(0,s.jsx)("p",{className:"text-white/80",children:b.gratitude})]}),b.reflection&&(0,s.jsxs)("div",{className:"p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[(0,s.jsx)("h4",{className:"text-blue-400 font-medium mb-2",children:"Reflection"}),(0,s.jsx)("p",{className:"text-white/80",children:b.reflection})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4 border-t border-white/10",children:(0,s.jsxs)(C,{onClick:()=>{y(null),v({title:b.title,content:b.content,mood:b.mood,energy:b.energy,gratitude:b.gratitude,reflection:b.reflection}),j(b.formatting||w),g(b.id),m(!0)},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[(0,s.jsx)(eG.Z,{className:"w-4 h-4 mr-2"}),"Edit Entry"]})})]})]})})})]})}var tj=a(91723),tN=a(26034),tk=a(38866),tD=a(29248);function tS(e){let{reminders:t,setReminders:a}=e,[o,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)({title:"",message:"",type:"general",time:"",days:[]}),{showNotification:u}=(0,tD.z)(),x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=[{value:"general",label:"General",icon:"\uD83D\uDCCB"},{value:"task",label:"Task",icon:""},{value:"habit",label:"Habit",icon:"\uD83C\uDFAF"},{value:"break",label:"Break",icon:""},{value:"hydration",label:"Hydration",icon:"\uD83D\uDCA7"},{value:"custom",label:"Custom",icon:"\uD83D\uDD14"}];(0,r.useEffect)(()=>{let e=setInterval(()=>{let e=new Date,a="".concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")),s=e.getDay();t.forEach(e=>{e.enabled&&e.time===a&&(0===e.days.length||e.days.includes(s))&&u(e.title,e.message)})},6e4);return()=>clearInterval(e)},[t,u]);let b=e=>{a(t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))},p=e=>{a(t.filter(t=>t.id!==e))},y=e=>g.find(t=>t.value===e)||g[0],f=e=>{let t=e.days||[];return 0===t.length?"Daily":7===t.length?"Every day":5===t.length&&t.every(e=>e>=1&&e<=5)?"Weekdays":2===t.length&&t.includes(0)&&t.includes(6)?"Weekends":t.map(e=>x[e]).join(", ")};return(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Reminders"}),(0,s.jsxs)(C,{onClick:()=>c(!0),className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[(0,s.jsx)($.Z,{size:20,className:"mr-2"}),"Add Reminder"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(i.M,{children:t.map((e,t)=>{let a=y(e.type);return(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6 ".concat(e.enabled?"":"opacity-60"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:a.icon}),(0,s.jsx)("h3",{className:"text-lg font-bold",children:e.title}),(0,s.jsx)("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-1 rounded-full",children:a.label})]}),e.message&&(0,s.jsx)("p",{className:"text-white/60 dark:text-gray-400 text-sm mb-3",children:e.message}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-white/60 dark:text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(tj.Z,{size:14}),(0,s.jsx)("span",{children:e.time})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(n.Z,{size:14}),(0,s.jsx)("span",{children:f(e)})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C,{onClick:()=>b(e.id),variant:"ghost",size:"sm",className:"p-2",children:e.enabled?(0,s.jsx)(tN.Z,{size:20,className:"text-green-400"}):(0,s.jsx)(tk.Z,{size:20,className:"text-gray-400"})}),(0,s.jsx)(C,{onClick:()=>p(e.id),variant:"ghost",size:"sm",className:"p-2 text-red-400 hover:text-red-300",children:(0,s.jsx)(ee.Z,{size:16})})]})]})},e.id)})}),0===t.length&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-12 text-center",children:[(0,s.jsx)(m.Z,{size:48,className:"mx-auto mb-4 text-white/40"}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No reminders set"}),(0,s.jsx)("p",{className:"text-white/60 dark:text-gray-400 mb-4",children:"Create reminders to stay on top of your tasks and habits"}),(0,s.jsxs)(C,{onClick:()=>c(!0),className:"bg-gradient-to-r from-purple-500 to-blue-500",children:[(0,s.jsx)($.Z,{size:16,className:"mr-2"}),"Add Your First Reminder"]})]})]}),(0,s.jsx)(i.M,{children:o&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-purple-900 to-indigo-900 dark:from-gray-800 dark:to-gray-900 p-6 rounded-2xl border border-white/20 dark:border-gray-700/50 w-96 max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Add New Reminder"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Reminder title",value:d.title,onChange:e=>h({...d,title:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400"}),(0,s.jsx)("textarea",{placeholder:"Message (optional)",value:d.message,onChange:e=>h({...d,message:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white placeholder-white/50 dark:placeholder-gray-400 h-20 resize-none"}),(0,s.jsx)("select",{value:d.type,onChange:e=>h({...d,type:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white",children:g.map(e=>(0,s.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))}),(0,s.jsx)("input",{type:"time",value:d.time,onChange:e=>h({...d,time:e.target.value}),className:"w-full p-3 rounded-xl bg-black/20 dark:bg-gray-700/50 border border-white/10 dark:border-gray-600/50 text-white"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-white/60 dark:text-gray-400 mb-2",children:"Repeat on (leave empty for daily):"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:x.map((e,t)=>(0,s.jsx)("button",{type:"button",onClick:()=>{let e=d.days.includes(t)?d.days.filter(e=>e!==t):[...d.days,t];h({...d,days:e})},className:"px-3 py-2 rounded-lg text-sm transition-all ".concat(d.days.includes(t)?"bg-purple-500 text-white":"bg-white/10 dark:bg-gray-700/50 text-white/70 hover:bg-white/20"),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(C,{onClick:()=>{d.title&&d.time&&(a([{id:Date.now().toString(),title:d.title,message:d.message,type:d.type,time:d.time,days:d.days,enabled:!0,created_at:new Date().toISOString()},...t]),h({title:"",message:"",type:"general",time:"",days:[]}),c(!1))},className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500",children:"Add Reminder"}),(0,s.jsx)(C,{onClick:()=>c(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})})]})}var tC=a(47625),tA=a(5481),tT=a(56940),tE=a(97059),tz=a(62994),tZ=a(8147),tM=a(23263),tR=a(77031),tP=a(83046),tI=a(21156),tF=a(54061);function tL(e){let{tasks:t,habits:a,goals:i,journals:o,events:c,achievements:h}=e,[u,m]=(0,r.useState)("month"),x=(0,r.useMemo)(()=>{let e=new Date,s=new Date;switch(u){case"week":s.setDate(e.getDate()-7);break;case"month":s.setMonth(e.getMonth()-1);break;case"year":s.setFullYear(e.getFullYear()-1)}let r=t.filter(e=>e.completed),l=t.length>0?r.length/t.length*100:0,n=a.map(e=>({name:e.name,streak:e.streak,longestStreak:e.longestStreak||e.streak})),c=i.map(e=>({name:e.title,progress:e.targetValue>0?e.currentValue/e.targetValue*100:0,completed:e.completed})),d=o.filter(e=>new Date(e.date)>=s).map(e=>({date:e.date,mood:e.mood,energy:e.energy||5})).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),m=[];for(let e=6;e>=0;e--){let s=new Date;s.setDate(s.getDate()-e);let r=s.toISOString().split("T")[0],l=t.filter(e=>{var t;return null===(t=e.createdAt)||void 0===t?void 0:t.startsWith(r)}),i=a.filter(e=>{var t;return null===(t=e.completedDates)||void 0===t?void 0:t.includes(r)}),n=o.filter(e=>e.date===r),c=Math.min(100,10*l.length+15*i.length+5*n.length);m.push({date:s.toLocaleDateString("en-US",{weekday:"short"}),score:c,tasks:l.length,habits:i.length})}return{taskCompletionRate:l,habitStreaks:n,goalProgress:c,moodData:d,productivityData:m,totalTasks:t.length,completedTasks:r.length,totalHabits:a.length,totalGoals:i.length,completedGoals:i.filter(e=>e.completed).length,totalAchievements:(h||[]).length}},[t,a,i,o,u,h]);return(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Analytics"}),(0,s.jsx)("div",{className:"flex gap-2",children:["week","month","year"].map(e=>(0,s.jsx)(C,{onClick:()=>m(e),variant:u===e?"default":"outline",size:"sm",className:"capitalize",children:e},e))})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(ez.Z,{className:"text-green-400",size:24}),(0,s.jsx)("h3",{className:"font-semibold",children:"Tasks"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:x.completedTasks}),(0,s.jsxs)("p",{className:"text-sm text-white/60 dark:text-gray-400",children:["of ",x.totalTasks," completed"]}),(0,s.jsx)("div",{className:"mt-2 bg-white/10 dark:bg-gray-700/50 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-green-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(x.taskCompletionRate,"%")}})})]}),(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(d.Z,{className:"text-blue-400",size:24}),(0,s.jsx)("h3",{className:"font-semibold",children:"Habits"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:x.totalHabits}),(0,s.jsx)("p",{className:"text-sm text-white/60 dark:text-gray-400",children:"active habits"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("p",{className:"text-xs text-blue-400",children:["Avg streak:"," ",Math.round(x.habitStreaks.reduce((e,t)=>e+t.streak,0)/Math.max(1,x.habitStreaks.length))," ","days"]})})]}),(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(eE.Z,{className:"text-yellow-400",size:24}),(0,s.jsx)("h3",{className:"font-semibold",children:"Goals"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:x.completedGoals}),(0,s.jsxs)("p",{className:"text-sm text-white/60 dark:text-gray-400",children:["of ",x.totalGoals," achieved"]}),(0,s.jsx)("div",{className:"mt-2 bg-white/10 dark:bg-gray-700/50 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-500",style:{width:"".concat(x.totalGoals>0?x.completedGoals/x.totalGoals*100:0,"%")}})})]}),(0,s.jsxs)("div",{className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(eD.Z,{className:"text-purple-400",size:24}),(0,s.jsx)("h3",{className:"font-semibold",children:"Achievements"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:x.totalAchievements}),(0,s.jsx)("p",{className:"text-sm text-white/60 dark:text-gray-400",children:"badges earned"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(eS.Z,{size:20}),"Weekly Productivity"]}),(0,s.jsx)(tC.h,{width:"100%",height:200,children:(0,s.jsxs)(tA.T,{data:x.productivityData,children:[(0,s.jsx)(tT.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,s.jsx)(tE.K,{dataKey:"date",stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tz.B,{stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tZ.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),(0,s.jsx)(tM.u,{type:"monotone",dataKey:"score",stroke:"#8b5cf6",fill:"url(#colorGradient)"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]})})]})})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(eE.Z,{size:20}),"Goal Progress"]}),(0,s.jsx)(tC.h,{width:"100%",height:200,children:(0,s.jsxs)(tR.v,{data:x.goalProgress.slice(0,5),children:[(0,s.jsx)(tT.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,s.jsx)(tE.K,{dataKey:"name",stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tz.B,{stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tZ.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),(0,s.jsx)(tP.$,{dataKey:"progress",fill:"#3b82f6",radius:[4,4,0,0]})]})})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(d.Z,{size:20}),"Habit Streaks"]}),(0,s.jsx)(tC.h,{width:"100%",height:200,children:(0,s.jsxs)(tR.v,{data:x.habitStreaks.slice(0,5),children:[(0,s.jsx)(tT.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,s.jsx)(tE.K,{dataKey:"name",stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tz.B,{stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tZ.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),(0,s.jsx)(tP.$,{dataKey:"streak",fill:"#10b981",radius:[4,4,0,0]}),(0,s.jsx)(tP.$,{dataKey:"longestStreak",fill:"#059669",radius:[4,4,0,0],opacity:.5})]})})]}),x.moodData.length>0&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(n.Z,{size:20}),"Mood & Energy"]}),(0,s.jsx)(tC.h,{width:"100%",height:200,children:(0,s.jsxs)(tI.w,{data:x.moodData,children:[(0,s.jsx)(tT.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,s.jsx)(tE.K,{dataKey:"date",stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tz.B,{stroke:"rgba(255,255,255,0.6)"}),(0,s.jsx)(tZ.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),(0,s.jsx)(tF.x,{type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:2})]})})]})]}),x.totalAchievements>0&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-6 bg-black/20 dark:bg-gray-800/50 backdrop-blur-lg rounded-2xl border border-white/10 dark:border-gray-700/50 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(eD.Z,{size:20}),"Recent Achievements"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.slice(0,8).map((e,t)=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*t},className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-xl p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:e.icon||"\uD83C\uDFC6"}),(0,s.jsx)("h4",{className:"font-semibold text-sm",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-white/60 dark:text-gray-400 mt-1",children:e.description})]},e.id))})]})]})}var tB=a(25922),tW=a(73264);let tO=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(tW.fC,{className:D("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(tW.bU,{className:D("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});tO.displayName=tW.fC.displayName;var tq=a(12805),tG=a(97226),tH=a(99897),tJ=a(81706),tV=a(69076);function tU(){let{theme:e,setTheme:t}=(0,tB.F)(),[a,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)({name:"Focus User",email:"user@example.com",avatar:void 0,notifications:!0,soundEnabled:!0,volume:50,autoSave:!0,focusMode:!1,theme:"system",language:"en",timezone:"UTC",focusDuration:25,breakDuration:5,longBreakDuration:15,sessionsBeforeLongBreak:4});H.getInstance(),(0,r.useEffect)(()=>{l(!0),(async()=>{try{let e=await J.getAllData();if(e&&e.settings){let a={...i,...e.settings};n(a),a.theme&&t(a.theme)}}catch(e){console.error("Failed to load settings:",e)}})()},[]),(0,r.useEffect)(()=>{a&&(J.saveAllData({events:[],tasks:[],habits:[],goals:[],notes:[],journals:[],reminders:[],achievements:[],focusSessions:[],settings:i}),i.name&&window.dispatchEvent(new CustomEvent("userDataUpdated",{detail:{username:i.name,avatar:i.avatar}})),t(i.theme))},[i,a]);let o=async()=>{try{await J.saveAllData({events:[],tasks:[],habits:[],goals:[],notes:[],journals:[],reminders:[],achievements:[],focusSessions:[],settings:i}),O.A.success("Settings saved successfully!")}catch(e){console.error("Failed to save settings:",e),O.A.error("Failed to save settings")}},c=async()=>{let e={name:"Focus User",email:"user@example.com",avatar:void 0,notifications:!0,soundEnabled:!0,volume:50,autoSave:!0,focusMode:!1,theme:"system",language:"en",timezone:"UTC",focusDuration:25,breakDuration:5,longBreakDuration:15,sessionsBeforeLongBreak:4};n(e);try{await J.saveAllData({events:[],tasks:[],habits:[],goals:[],notes:[],journals:[],reminders:[],achievements:[],focusSessions:[],settings:e}),O.A.success("Settings reset to defaults")}catch(e){console.error("Failed to reset settings:",e),O.A.error("Failed to reset settings")}};return a?(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:"Settings"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Customize your AURA Focus experience"})]}),(0,s.jsx)(e4,{variant:"secondary",className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"v2.0.0"})]}),(0,s.jsx)(ti,{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,s.jsxs)(e$,{className:"card-hover",children:[(0,s.jsxs)(eX,{children:[(0,s.jsxs)(e0,{className:"flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"h-5 w-5 text-purple-600"}),"Profile"]}),(0,s.jsx)(e2,{children:"Manage your personal information"})]}),(0,s.jsxs)(e1,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{htmlFor:"name",children:"Display Name"}),(0,s.jsx)(F,{id:"name",value:i.name,onChange:e=>n(t=>({...t,name:e.target.value})),className:"focus-ring"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{htmlFor:"email",children:"Email"}),(0,s.jsx)(F,{id:"email",type:"email",value:i.email,onChange:e=>n(t=>({...t,email:e.target.value})),className:"focus-ring"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"relative w-16 h-16 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:i.avatar?(0,s.jsx)("img",{src:i.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):(0,s.jsx)(y.Z,{className:"h-8 w-8 text-gray-500"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)("input",{id:"avatar",type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if(console.log("Avatar file selected:",a.name,a.type,a.size),!a.type.startsWith("image/")){O.A.error("Please select a valid image file");return}if(a.size>5242880){O.A.error("Image file size must be less than 5MB");return}let e=new FileReader;e.onload=e=>{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result;console.log("Avatar loaded successfully"),n(e=>({...e,avatar:a})),O.A.success("Avatar uploaded successfully!")},e.onerror=()=>{console.error("Error reading avatar file"),O.A.error("Failed to upload avatar")},e.readAsDataURL(a)}},className:"hidden"}),(0,s.jsx)(C,{variant:"outline",className:"w-full text-sm",onClick:()=>{var e;return null===(e=document.getElementById("avatar"))||void 0===e?void 0:e.click()},children:i.avatar?"Change Avatar":"Upload Avatar"}),i.avatar&&(0,s.jsx)(C,{variant:"outline",className:"w-full text-sm text-destructive hover:text-destructive",onClick:()=>{n(e=>({...e,avatar:void 0}))},children:"Remove Avatar"})]})]})]})]}),(0,s.jsxs)(e$,{className:"card-hover",children:[(0,s.jsxs)(eX,{children:[(0,s.jsxs)(e0,{className:"flex items-center gap-2",children:[(0,s.jsx)(Z.Z,{className:"h-5 w-5 text-purple-600"}),"Focus Timer"]}),(0,s.jsx)(e2,{children:"Configure your Pomodoro timer settings"})]}),(0,s.jsx)(e1,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{htmlFor:"focusDuration",children:"Focus Duration (min)"}),(0,s.jsx)(F,{id:"focusDuration",type:"number",min:"1",max:"60",value:i.focusDuration,onChange:e=>n(t=>({...t,focusDuration:parseInt(e.target.value)||25})),className:"focus-ring"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{htmlFor:"breakDuration",children:"Break Duration (min)"}),(0,s.jsx)(F,{id:"breakDuration",type:"number",min:"1",max:"30",value:i.breakDuration,onChange:e=>n(t=>({...t,breakDuration:parseInt(e.target.value)||5})),className:"focus-ring"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{htmlFor:"longBreakDuration",children:"Long Break (min)"}),(0,s.jsx)(F,{id:"longBreakDuration",type:"number",min:"1",max:"60",value:i.longBreakDuration,onChange:e=>n(t=>({...t,longBreakDuration:parseInt(e.target.value)||15})),className:"focus-ring"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{htmlFor:"sessionsBeforeLongBreak",children:"Sessions Before Long Break"}),(0,s.jsx)(F,{id:"sessionsBeforeLongBreak",type:"number",min:"1",max:"10",value:i.sessionsBeforeLongBreak,onChange:e=>n(t=>({...t,sessionsBeforeLongBreak:parseInt(e.target.value)||4})),className:"focus-ring"})]})]})})]}),(0,s.jsxs)(e$,{className:"card-hover",children:[(0,s.jsxs)(eX,{children:[(0,s.jsxs)(e0,{className:"flex items-center gap-2",children:[(0,s.jsx)(tq.Z,{className:"h-5 w-5 text-purple-600"}),"Appearance"]}),(0,s.jsx)(e2,{children:"Customize the look and feel"})]}),(0,s.jsxs)(e1,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{children:"Theme"}),(0,s.jsxs)(e7,{value:i.theme,onValueChange:e=>n(t=>({...t,theme:e})),children:[(0,s.jsx)(te,{className:"focus-ring",children:(0,s.jsx)(e9,{})}),(0,s.jsxs)(ts,{children:[(0,s.jsx)(tr,{value:"light",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(tq.Z,{className:"h-4 w-4 text-purple-600"}),"Purple Theme"]})}),(0,s.jsx)(tr,{value:"dark",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(tG.Z,{className:"h-4 w-4"}),"Black Theme"]})}),(0,s.jsx)(tr,{value:"system",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(tH.Z,{className:"h-4 w-4"}),"System"]})})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{children:"Language"}),(0,s.jsxs)(e7,{value:i.language,onValueChange:e=>n(t=>({...t,language:e})),children:[(0,s.jsx)(te,{className:"focus-ring",children:(0,s.jsx)(e9,{})}),(0,s.jsxs)(ts,{children:[(0,s.jsx)(tr,{value:"en",children:"English"}),(0,s.jsx)(tr,{value:"es",children:"Espa\xf1ol"}),(0,s.jsx)(tr,{value:"fr",children:"Fran\xe7ais"}),(0,s.jsx)(tr,{value:"de",children:"Deutsch"}),(0,s.jsx)(tr,{value:"ja",children:""})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(W,{children:"Timezone"}),(0,s.jsxs)(e7,{value:i.timezone,onValueChange:e=>n(t=>({...t,timezone:e})),children:[(0,s.jsx)(te,{className:"focus-ring",children:(0,s.jsx)(e9,{})}),(0,s.jsxs)(ts,{children:[(0,s.jsx)(tr,{value:"UTC",children:"UTC"}),(0,s.jsx)(tr,{value:"EST",children:"Eastern Time"}),(0,s.jsx)(tr,{value:"PST",children:"Pacific Time"}),(0,s.jsx)(tr,{value:"GMT",children:"Greenwich Mean Time"})]})]})]})]})]})]}),(0,s.jsxs)(e$,{className:"card-hover",children:[(0,s.jsxs)(eX,{children:[(0,s.jsxs)(e0,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"h-5 w-5 text-purple-600"}),"Notifications & Sound"]}),(0,s.jsx)(e2,{children:"Configure alerts and audio settings"})]}),(0,s.jsxs)(e1,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(W,{children:"Push Notifications"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive notifications for timers and reminders"})]}),(0,s.jsx)(tO,{checked:i.notifications,onCheckedChange:e=>n(t=>({...t,notifications:e}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(W,{children:"Sound Effects"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Play sounds for timer alerts"})]}),(0,s.jsx)(tO,{checked:i.soundEnabled,onCheckedChange:e=>n(t=>({...t,soundEnabled:e}))})]}),i.soundEnabled&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(W,{className:"flex items-center gap-2",children:[(0,s.jsx)(tJ.Z,{className:"h-4 w-4"}),"Volume: ",i.volume,"%"]}),(0,s.jsx)(tb,{value:[i.volume],onValueChange:e=>n(t=>({...t,volume:e[0]})),max:100,step:5,className:"w-full"})]})]})]}),(0,s.jsxs)(e$,{className:"card-hover",children:[(0,s.jsxs)(eX,{children:[(0,s.jsxs)(e0,{className:"flex items-center gap-2",children:[(0,s.jsx)(Z.Z,{className:"h-5 w-5 text-purple-600"}),"Privacy & Security"]}),(0,s.jsx)(e2,{children:"Manage your data and privacy settings"})]}),(0,s.jsxs)(e1,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(W,{children:"Auto-save Data"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automatically save your progress"})]}),(0,s.jsx)(tO,{checked:i.autoSave,onCheckedChange:e=>n(t=>({...t,autoSave:e}))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(W,{children:"Focus Mode"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hide distracting elements during focus sessions"})]}),(0,s.jsx)(tO,{checked:i.focusMode,onCheckedChange:e=>n(t=>({...t,focusMode:e}))})]})]})]}),(0,s.jsxs)(e$,{className:"card-hover",children:[(0,s.jsxs)(eX,{children:[(0,s.jsxs)(e0,{className:"flex items-center gap-2",children:[(0,s.jsx)(P.Z,{className:"h-5 w-5 text-purple-600"}),"Data Management"]}),(0,s.jsx)(e2,{children:"Export, import, or reset your data"})]}),(0,s.jsx)(e1,{children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsxs)(C,{onClick:()=>{try{let e=JSON.stringify(i,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="aura-focus-settings.json",s.click(),URL.revokeObjectURL(a),O.A.success("Settings exported successfully!")}catch(e){console.error("Failed to export settings:",e),O.A.error("Failed to export settings")}},variant:"outline",className:"flex items-center gap-2 bg-transparent",children:[(0,s.jsx)(P.Z,{className:"h-4 w-4"}),"Export Settings"]}),(0,s.jsx)(C,{variant:"outline",className:"flex items-center gap-2 bg-transparent",asChild:!0,children:(0,s.jsxs)("label",{htmlFor:"import-settings",className:"cursor-pointer",children:[(0,s.jsx)(I.Z,{className:"h-4 w-4"}),"Import Settings",(0,s.jsx)("input",{id:"import-settings",type:"file",accept:".json",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let s=new FileReader;s.onload=e=>{try{var t;let a=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);n(e=>({...e,...a})),O.A.success("Settings imported successfully!")}catch(e){console.error("Failed to import settings:",e),O.A.error("Invalid settings file")}},s.readAsText(a)},className:"hidden"})]})}),(0,s.jsxs)(C,{onClick:c,variant:"outline",className:"flex items-center gap-2 text-destructive hover:text-destructive bg-transparent",children:[(0,s.jsx)(tV.Z,{className:"h-4 w-4"}),"Reset to Defaults"]})]})})]}),(0,s.jsx)("div",{className:"flex justify-end gap-3 pt-6 border-t",children:(0,s.jsxs)(C,{onClick:o,className:"gradient-purple flex items-center gap-2 text-black font-semibold",children:[(0,s.jsx)(eF.Z,{className:"h-4 w-4"}),"Save Changes"]})})]})})]}):(0,s.jsx)("div",{className:"animate-pulse",children:"Loading settings..."})}var tY=a(81197),tK=a(89227),t_=a(33276),tQ=a(74656),t$=a(29959);function tX(){let{timeLeft:e,isActive:t,mode:a,selectedWorkTime:l,selectedBreakTime:i,alarmEnabled:n,setSelectedWorkTime:o,setSelectedBreakTime:c,setAlarmEnabled:d,resetTimer:h,toggleTimer:u}=(0,t$.J)(),[x,g]=(0,r.useState)(""),[b,p]=(0,r.useState)([]),[y,f]=(0,r.useState)(!1),[v,w]=(0,r.useState)(l),[j,N]=(0,r.useState)(i),k=["The way to get started is to quit talking and begin doing. - Walt Disney","Innovation distinguishes between a leader and a follower. - Steve Jobs","Your time is limited, don't waste it living someone else's life. - Steve Jobs","Life is what happens to you while you're busy making other plans. - John Lennon","The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt","It is during our darkest moments that we must focus to see the light. - Aristotle","Success is not final, failure is not fatal: it is the courage to continue that counts. - Winston Churchill","The only impossible journey is the one you never begin. - Tony Robbins","In the middle of difficulty lies opportunity. - Albert Einstein","Believe you can and you're halfway there. - Theodore Roosevelt","Don't watch the clock; do what it does. Keep going. - Sam Levenson","The only way to do great work is to love what you do. - Steve Jobs","Life is 10% what happens to you and 90% how you react to it. - Charles R. Swindoll","The best time to plant a tree was 20 years ago. The second best time is now. - Chinese Proverb","Your limitationit's only your imagination.","Push yourself, because no one else is going to do it for you.","Great things never come from comfort zones.","Dream it. Wish it. Do it.","Success doesn't just find you. You have to go out and get it.","The harder you work for something, the greater you'll feel when you achieve it.","The way to get started is to quit talking and begin doing. - Walt Disney","The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt","The only thing we have to fear is fear itself. - Franklin D. Roosevelt","I have a dream that my four little children will one day live in a nation where they will not be judged by the color of their skin but by the content of their character. - Martin Luther King Jr.","That's one small step for man, one giant leap for mankind - Neil Armstrong","You must be the change you wish to see in the world. - Mahatma Gandhi","I am the master of my fate, I am the captain of my soul. - William Ernest Henley","To be yourself in a world that is constantly trying to make you something else is the greatest accomplishment. - Ralph Waldo Emerson","The only true wisdom is in knowing you know nothing. - Socrates","The best and most beautiful things in the world cannot be seen or even touched - they must be felt with the heart. - Helen Keller","In the end, it's not the years in your life that count. It's the life in your years. - Abraham Lincoln","Life is what happens when you're busy making other plans. - John Lennon","The only person you are destined to become is the person you decide to be. - Ralph Waldo Emerson","The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela","It is during our darkest moments that we must focus to see the light. - Aristotle","Go confidently in the direction of your dreams. Live the life you have imagined. - Henry David Thoreau","The best way to predict the future is to create it. - Peter Drucker","If you want to live a happy life, tie it to a goal, not to people or things. - Albert Einstein","Spread love everywhere you go. Let no one ever come to you without leaving happier. - Mother Teresa","The mind is everything. What you think you become. - Buddha","The two most important days in your life are the day you are born and the day you find out why. - Mark Twain","You miss 100% of the shots you dont take. - Wayne Gretzky","A man is but the product of his thoughts. What he thinks, he becomes. - Mahatma Gandhi","Change your thoughts and you change your world. - Norman Vincent Peale","Believe you can and you're halfway there. - Theodore Roosevelt","The only way to do great work is to love what you do. - Steve Jobs","If you can't fly then run, if you can't run then walk, if you can't walk then crawl, but whatever you do you have to keep moving forward. - Martin Luther King Jr.","Our lives begin to end the day we become silent about things that matter. - Martin Luther King Jr.","The journey of a thousand miles begins with a single step. - Lao Tzu","The only thing standing between you and your goal is the story you keep telling yourself as to why you can't achieve it. - Jordan Belfort","I can't change the direction of the wind, but I can adjust my sails to always reach my destination. - Jimmy Dean","Success is not final, failure is not fatal: it is the courage to continue that counts. - Winston Churchill","Keep your eyes on the stars, and your feet on the ground. - Theodore Roosevelt","It does not matter how slowly you go as long as you do not stop. - Confucius","The secret of getting ahead is getting started. - Mark Twain","What you do speaks so loudly that I cannot hear what you say. - Ralph Waldo Emerson","The only way to achieve the impossible is to believe it is possible. - Charles Kingsleigh","A successful man is one who can lay a firm foundation with the bricks others have thrown at him. - David Brinkley","Twenty years from now you will be more disappointed by the things that you didn't do than by the ones you did do. - Mark Twain","I have not failed. I've just found 10,000 ways that won't work. - Thomas A. Edison","Never let the fear of striking out keep you from playing the game. - Babe Ruth","Challenges are what make life interesting and overcoming them is what makes life meaningful. - Joshua J. Marine","The only thing we learn from history is that we learn nothing from history. - Georg Wilhelm Friedrich Hegel","The best revenge is massive success. - Frank Sinatra","The most important thing is to enjoy your lifeto be happyits all that matters. - Audrey Hepburn","We can't help everyone, but everyone can help someone. - Ronald Reagan","The only thing necessary for the triumph of evil is for good men to do nothing. - Edmund Burke","The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela","Never let the fear of striking out keep you from playing the game. - Babe Ruth","Challenges are what make life interesting and overcoming them is what makes life meaningful. - Joshua J. Marine","The only thing we learn from history is that we learn nothing from history. - Georg Wilhelm Friedrich Hegel","The best revenge is massive success. - Frank Sinatra","The only way to do great work is to love what you do. - Steve Jobs","If you can't fly then run, if you can't run then walk, if you can't walk then crawl, but whatever you do you have to keep moving forward. - Martin Luther King Jr.","Our lives begin to end the day we become silent about things that matter. - Martin Luther King Jr.","The journey of a thousand miles begins with a single step. - Lao Tzu","The only thing standing between you and your goal is the story you keep telling yourself as to why you can't achieve it. - Jordan Belfort","I can't change the direction of the wind, but I can adjust my sails to always reach my destination. - Jimmy Dean","Success is not final, failure is not fatal: it is the courage to continue that counts. - Winston Churchill","Keep your eyes on the stars, and your feet on the ground. - Theodore Roosevelt","The biggest risk is not taking any risk. In a world that's changing really quickly, the only strategy that is guaranteed to fail is not taking risks. - Mark Zuckerberg","Strive not to be a success, but rather to be of value. - Albert Einstein","Don't judge each day by the harvest you reap but by the seeds that you plant. - Robert Louis Stevenson","Whether you think you can or you think you can't, you're right. - Henry Ford","Perfection is not attainable, but if we chase perfection we can catch excellence. - Vince Lombardi","The future belongs to those who prepare for it today. - Malcolm X","It is never too late to be what you might have been. - George Eliot","Happiness is not something readymade. It comes from your own actions. - Dalai Lama","If you want to achieve greatness stop asking for permission. - Unknown","A person who never made a mistake never tried anything new. - Albert Einstein","The most difficult thing is the decision to act, the rest is merely tenacity. - Amelia Earhart","Start where you are. Use what you have. Do what you can. - Arthur Ashe","If you are not willing to risk the usual, you will have to settle for the ordinary. - Jim Rohn","The best way out is always through. - Robert Frost","The only true wisdom is in knowing you know nothing. - Socrates","Everything youve ever wanted is on the other side of fear. - George Addair","We are what we repeatedly do. Excellence, then, is not an act, but a habit. - Aristotle","The only person you should try to be better than is the person you were yesterday. - Unknown","Build your own dreams, or someone else will hire you to build theirs. - Farrah Gray","The best time to plant a tree was 20 years ago. The second best time is now. - Chinese Proverb","An unexamined life is not worth living. - Socrates","You must be the change you wish to see in the world. - Mahatma Gandhi","The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela","You can't use up creativity. The more you use, the more you have. - Maya Angelou","The only person who can stop you from achieving your goals is you. - Jack Canfield","The best way to get over a bad day is to create a good one. - Unknown","Build your own dreams, or someone else will hire you to build theirs. - Farrah Gray","The best time to plant a tree was 20 years ago. The second best time is now. - Chinese Proverb","An unexamined life is not worth living. - Socrates","You must be the change you wish to see in the world. - Mahatma Gandhi","The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela","Life is 10% what happens to you and 90% how you react to it. - Charles R. Swindoll","The only thing standing between you and your dream is the will to try and the belief that it is actually possible. - Joel Brown","What we think, we become. - Buddha","The most important thing is to enjoy your lifeto be happyits all that matters. - Audrey Hepburn","If you can dream it, you can do it. - Walt Disney","Live as if you were to die tomorrow. Learn as if you were to live forever. - Mahatma Gandhi","When you reach the end of your rope, tie a knot in it and hang on. - Franklin D. Roosevelt","The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela","Life is 10% what happens to you and 90% how you react to it. - Charles R. Swindoll","The only thing standing between you and your dream is the will to try and the belief that it is actually possible. - Joel Brown","What we think, we become. - Buddha","The most important thing is to enjoy your lifeto be happyits all that matters. - Audrey Hepburn","If you can dream it, you can do it. - Walt Disney","Live as if you were to die tomorrow. Learn as if you were to live forever. - Mahatma Gandhi","When you reach the end of your rope, tie a knot in it and hang on. - Franklin D. Roosevelt","The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela","You can't use up creativity. The more you use, the more you have. - Maya Angelou","The only person who can stop you from achieving your goals is you. - Jack Canfield","The best way to get over a bad day is to create a good one. - Unknown","The best way to find yourself is to lose yourself in the service of others. - Mahatma Gandhi","If you want to lift yourself up, lift up someone else. - Booker T. Washington","If you hear a voice within you say 'you cannot paint,' then by all means paint, and that voice will be silenced. - Vincent Van Gogh","Life is a succession of lessons which must be lived to be understood. - Ralph Waldo Emerson","The only limit to our realization of tomorrow will be our doubts of today. - Franklin D. Roosevelt","The best and most beautiful things in the world cannot be seen or even touched - they must be felt with the heart. - Helen Keller","The purpose of our lives is to be happy. - Dalai Lama","You only live once, but if you do it right, once is enough. - Mae West","You miss 100% of the shots you don't take. - Wayne Gretzky","The secret of change is to focus all of your energy, not on fighting the old, but on building the new. - Socrates","What you get by achieving your goals is not as important as what you become by achieving your goals. - Zig Ziglar","Don't let yesterday take up too much of today. - Will Rogers","The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt","The best and most beautiful things in the world cannot be seen or even touched - they must be felt with the heart. - Helen Keller","The purpose of our lives is to be happy. - Dalai Lama","You only live once, but if you do it right, once is enough. - Mae West","You miss 100% of the shots you don't take. - Wayne Gretzky","The secret of change is to focus all of your energy, not on fighting the old, but on building the new. - Socrates","What you get by achieving your goals is not as important as what you become by achieving your goals. - Zig Ziglar","Don't let yesterday take up too much of today. - Will Rogers","The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt","The best way to predict the future is to create it. - Peter Drucker","Keep your face always toward the sunshineand shadows will fall behind you. - Walt Whitman","If you can't fly then run, if you can't run then walk, if you can't walk then crawl, but whatever you do you have to keep moving forward. - Martin Luther King Jr.","Success is not the key to happiness. Happiness is the key to success. If you love what you are doing, you will be successful. - Albert Schweitzer","The best revenge is massive success. - Frank Sinatra","The most important thing is to enjoy your lifeto be happyits all that matters. - Audrey Hepburn","We can't help everyone, but everyone can help someone. - Ronald Reagan","The only thing necessary for the triumph of evil is for good men to do nothing. - Edmund Burke","The greatest glory in living lies not in never falling, but in rising every time we fall. - Nelson Mandela","The only way to do great work is to love what you do. - Steve Jobs","If you can't fly then run, if you can't run then walk, if you can't walk then crawl, but whatever you do you have to keep moving forward. - Martin Luther King Jr.","Our lives begin to end the day we become silent about things that matter. - Martin Luther King Jr.","The journey of a thousand miles begins with a single step. - Lao Tzu","The only thing standing between you and your goal is the story you keep telling yourself as to why you can't achieve it. - Jordan Belfort","I can't change the direction of the wind, but I can adjust my sails to always reach my destination. - Jimmy Dean","Success is not final, failure is not fatal: it is the courage to continue that counts. - Winston Churchill","Keep your eyes on the stars, and your feet on the ground. - Theodore Roosevelt"];return(0,r.useEffect)(()=>{let e=()=>{let e=k.filter(e=>!b.includes(e));if(0===e.length)p([]),g(k[Math.floor(Math.random()*k.length)]);else{let t=e[Math.floor(Math.random()*e.length)];g(t),p(e=>[...e,t])}};x||e();let t=setInterval(e,36e5);return()=>clearInterval(t)},[x,b]),(0,r.useEffect)(()=>{y&&(w(l),N(i))},[y,l,i]),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Focus Mode"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(C,{onClick:()=>d(!n),variant:n?"default":"outline",className:"font-bold ".concat(n?"bg-green-600 hover:bg-green-700":""),children:[(0,s.jsx)(m.Z,{size:20,className:"mr-2"}),n?"Alarm On":"Alarm Off"]}),(0,s.jsxs)(C,{onClick:()=>f(!0),variant:"outline",className:"font-bold",disabled:t,children:[(0,s.jsx)(tj.Z,{size:20,className:"mr-2"}),l,"m / ",i,"m"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium ".concat("work"===a?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-green-500/20 text-green-400 border border-green-500/30"),children:"work"===a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),"Work Session (",l,"m)"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tY.Z,{size:14}),"Break Time (",i,"m)"]})})}),(0,s.jsx)("div",{className:"relative mb-8",children:(0,s.jsxs)("div",{className:"w-48 h-48 mx-auto relative",children:[(0,s.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8",fill:"none"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"work"===a?"#ef4444":"#22c55e",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*45),strokeDashoffset:"".concat(2*Math.PI*45*(1-(()=>{let t="work"===a?60*l:60*i;return(t-e)/t*100})()/100)),className:"transition-all duration-1000 ease-in-out"})]}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-4xl font-bold font-mono",children:"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})})]})}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,s.jsx)(C,{onClick:u,className:"".concat(t?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"," px-8 py-3"),children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tK.Z,{size:20,className:"mr-2"}),"Pause"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t_.Z,{size:20,className:"mr-2"}),"Start"]})}),(0,s.jsxs)(C,{onClick:h,variant:"outline",className:"px-8 py-3",children:[(0,s.jsx)(tV.Z,{size:20,className:"mr-2"}),"Reset"]})]})]})}),(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 p-8",children:(0,s.jsxs)("div",{className:"text-center h-full flex flex-col justify-center",children:[(0,s.jsx)(tQ.Z,{size:48,className:"mx-auto mb-6 text-purple-400"}),(0,s.jsxs)("blockquote",{className:"text-lg font-medium mb-4 leading-relaxed",children:['"',x,'"']})]})})]}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-xl border border-white/10 p-4 text-center",children:[(0,s.jsx)("h3",{className:"text-white/60 text-sm mb-1",children:"Sessions Today"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:"0"})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-xl border border-white/10 p-4 text-center",children:[(0,s.jsx)("h3",{className:"text-white/60 text-sm mb-1",children:"Focus Time"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-400",children:"0h 0m"})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-xl border border-white/10 p-4 text-center",children:[(0,s.jsx)("h3",{className:"text-white/60 text-sm mb-1",children:"Streak"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-400",children:"0"})]})]}),y&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-900 to-indigo-900 p-6 rounded-2xl border border-white/20 w-96",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-6",children:"Customize Focus Times"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/60 text-sm font-bold mb-3",children:"Work Session Duration"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[15,20,25,30,45,60,90].map(e=>(0,s.jsxs)("button",{onClick:()=>w(e),className:"p-3 rounded-xl text-sm font-bold transition-all duration-200 ".concat(v===e?"bg-gradient-to-r from-red-500 to-orange-500 text-white":"bg-white/10 text-white/80 hover:bg-white/20"),children:[e,"m"]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/60 text-sm font-bold mb-3",children:"Break Duration"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[5,10,15,20].map(e=>(0,s.jsxs)("button",{onClick:()=>N(e),className:"p-3 rounded-xl text-sm font-bold transition-all duration-200 ".concat(j===e?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-white/10 text-white/80 hover:bg-white/20"),children:[e,"m"]},e))})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)(C,{onClick:()=>{o(v),c(j),f(!1)},className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500 font-bold",children:"Apply Changes"}),(0,s.jsx)(C,{onClick:()=>f(!1),variant:"outline",className:"flex-1 font-bold",children:"Cancel"})]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-white/5 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-white/60 text-center",children:[(0,s.jsxs)("span",{className:"font-bold text-red-400",children:[v," minutes"]})," work, then"," ",(0,s.jsxs)("span",{className:"font-bold text-green-400",children:[j," minutes"]})," break"]})})]})})]})}var t0=a(61341),t2=a(66927),t1=a(62973);let t5=e=>{let t=eg[e];if(t){let e=t.color;return"bg-[".concat(e,"]/20 border-[").concat(e,"]/50 text-[").concat(e,"]")}return"bg-gray-500/20 border-gray-500/50 text-gray-300"},t4=e=>{switch(e){case"meeting":return"\uD83D\uDC65";case"birthday":return"\uD83C\uDF82";case"holiday":return"\uD83C\uDF89";case"important":return"";case"reminder":return"\uD83D\uDD14";case"personal":return"\uD83D\uDC64";default:return"\uD83D\uDCC5"}};function t6(e){let{events:t,activeSection:a}=e,[l,i]=(0,r.useState)({location:"Nairobi",condition:"Rainy",temperature:"59\xb0F",humidity:"53%",windSpeed:"12 mph"}),[n,o]=(0,r.useState)(!1),c=new Date().toISOString().split("T")[0],d=t.filter(e=>e.date===c),h=new Date;h.setDate(h.getDate()-h.getDay());let u=new Date(h);u.setDate(h.getDate()+6);let m=t.filter(e=>{let t=new Date(e.date);return t>=h&&t<=u});return(0,s.jsxs)("div",{className:"w-80 p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t0.Z,{size:20,className:"text-blue-400"}),(0,s.jsx)("span",{className:"text-sm text-white/60",children:l.location})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(t2.Z,{size:16,className:"text-blue-400"}),(0,s.jsx)("span",{className:"text-xs text-white/60",children:l.humidity})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-white/60",children:l.condition}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:l.temperature})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[(0,s.jsx)(t1.Z,{size:16}),(0,s.jsx)("span",{children:l.windSpeed})]})]})]}),"calendar"===a&&(0,s.jsxs)(C,{onClick:()=>o(!0),className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2",children:[(0,s.jsx)($.Z,{size:20}),"Add Event"]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-3",children:"Today's Events"}),0===d.length?(0,s.jsx)("p",{className:"text-white/60 text-sm font-bold",children:"No events today"}):(0,s.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-lg border ".concat(t5(e.type)),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-sm",children:t4(e.type)}),(0,s.jsx)("p",{className:"font-bold text-sm flex-1",children:e.title})]}),(0,s.jsx)("p",{className:"text-xs opacity-80 font-bold",children:e.time}),e.description&&(0,s.jsx)("p",{className:"text-xs opacity-70 mt-1",children:e.description})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-lg rounded-2xl border border-white/10 p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-3",children:"This Week"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Total Events"}),(0,s.jsx)("span",{className:"font-bold",children:m.length})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Today"}),(0,s.jsx)("span",{className:"font-bold",children:d.length})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white/60",children:"This Week"}),(0,s.jsx)("span",{className:"font-bold",children:m.length})]})]})]})]})}var t3=a(82798);function t8(){let[e,t]=(0,r.useState)("calendar"),[a,n]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!0),[d,h]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,g]=(0,r.useState)([]),[b,p]=(0,r.useState)([]),[y,f]=(0,r.useState)([]),[v,w]=(0,r.useState)([]),[j,N]=(0,r.useState)([]),[k,D]=(0,r.useState)([]),S=H.getInstance();(0,r.useEffect)(()=>{(async()=>{try{c(!0);let e=await J.getAllData();e&&(h(e.events||[]),m(e.tasks||[]),g(e.habits||[]),p(e.goals||[]),f(e.notes||[]),w(e.journals||[]),N(e.reminders||[]),console.log("Fetched Achievements:",e.achievements),D(e.achievements||[]),e.settings&&e.settings.name&&window.dispatchEvent(new CustomEvent("userDataUpdated",{detail:{username:e.settings.name,avatar:e.settings.avatar||null}})))}catch(e){console.error("Error loading data:",e)}finally{c(!1)}})()},[]),(0,r.useEffect)(()=>{o||S.queueSave("events",d)},[d,o,S]),(0,r.useEffect)(()=>{o||S.queueSave("tasks",u)},[u,o,S]),(0,r.useEffect)(()=>{o||S.queueSave("habits",x)},[x,o,S]),(0,r.useEffect)(()=>{o||S.queueSave("goals",b)},[b,o,S]),(0,r.useEffect)(()=>{o||S.queueSave("notes",y)},[y,o,S]),(0,r.useEffect)(()=>{o||S.queueSave("journals",v)},[v,o,S]),(0,r.useEffect)(()=>{o||S.queueSave("reminders",j)},[j,o,S]),(0,r.useEffect)(()=>{let e=()=>{S.forceSave()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[S]);let C=(0,r.useMemo)(()=>{let t={className:"h-full overflow-hidden"};switch(e){case"calendar":default:return(0,s.jsx)("div",{...t,children:(0,s.jsx)(ef,{events:d,setEvents:h})});case"tasks":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(eN,{tasks:u,setTasks:m})});case"habits":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(eT,{habits:x,setHabits:g,achievements:k,setAchievements:D})});case"goals":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(eZ,{goals:b,setGoals:p,achievements:k,setAchievements:D})});case"notebook":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(eO,{notes:y,setNotes:f})});case"journal":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(tw,{journals:v,setJournals:w})});case"reminders":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(tS,{reminders:j,setReminders:N})});case"analytics":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(tL,{tasks:u,habits:x,goals:b,journals:v,events:d,achievements:k})});case"focus":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(tX,{})});case"settings":return(0,s.jsx)("div",{...t,children:(0,s.jsx)(tU,{})})}},[e,d,u,x,b,y,v,j]);return o?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"AURA Focus"}),(0,s.jsx)("p",{className:"text-white/60",children:"Loading your workspace..."})]})}):(0,s.jsx)(t3.f,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:(0,s.jsx)(tD.J,{children:(0,s.jsx)(eA.Y,{achievements:k,setAchievements:D,children:(0,s.jsx)(t$._,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,s.jsxs)("div",{className:"flex h-screen",children:[(0,s.jsx)(U,{activeSection:e,setActiveSection:t,isCollapsed:a,setIsCollapsed:n}),(0,s.jsx)("main",{className:"flex-1 overflow-hidden",children:(0,s.jsx)("div",{className:"h-full p-6",children:(0,s.jsx)(i.M,{mode:"wait",children:(0,s.jsx)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"h-full",children:C},e)})})}),(0,s.jsx)(t6,{events:d,activeSection:e})]}),(0,s.jsx)(O.x,{position:"top-right",toastOptions:{style:{background:"rgba(0, 0, 0, 0.8)",color:"white",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)"}}})]})})})})})}},82798:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});var s=a(57437);a(2265);var r=a(25922);function l(e){let{children:t,...a}=e;return(0,s.jsx)(r.f,{...a,children:t})}},82578:function(e,t,a){"use strict";a.d(t,{R:function(){return o},Y:function(){return n}});var s=a(57437),r=a(2265),l=a(79235);let i=(0,r.createContext)(void 0);function n(e){let{children:t,achievements:a,setAchievements:r}=e;return(0,s.jsx)(i.Provider,{value:{achievements:a,setAchievements:r,addAchievement:e=>{let t={...e,id:Date.now().toString(),earnedDate:new Date().toISOString()};r([t,...a||[]]),(0,l.Z)({particleCount:150,spread:70,origin:{y:.6},colors:["#8b5cf6","#3b82f6","#10b981","#f59e0b"]}),window.electronAPI&&console.log("Achievement Unlocked: ".concat(t.title," - ").concat(t.description))}},children:t})}function o(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAchievements must be used within an AchievementProvider");return e}},29248:function(e,t,a){"use strict";a.d(t,{J:function(){return i},z:function(){return n}});var s=a(57437),r=a(2265);let l=(0,r.createContext)(void 0);function i(e){let{children:t}=e;return(0,r.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().catch(console.error)},[]),(0,s.jsx)(l.Provider,{value:{showNotification:(e,t)=>{try{"Notification"in window&&"granted"===Notification.permission?new Notification(e,{body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:"aura-focus",requireInteraction:!1}):console.log("Notification: ".concat(e," - ").concat(t))}catch(e){console.error("Failed to show notification:",e)}}},children:t})}function n(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},29959:function(e,t,a){"use strict";a.d(t,{J:function(){return n},_:function(){return i}});var s=a(57437),r=a(2265);let l=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,r.useState)(1500),[n,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)("work"),[h,u]=(0,r.useState)(25),[m,x]=(0,r.useState)(5),[g,b]=(0,r.useState)(!0),p=(0,r.useRef)(null),y=(0,r.useRef)(Date.now()),f=()=>{if(g)try{let e=new(window.AudioContext||window.webkitAudioContext),t=function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;setTimeout(()=>{let s=e.createOscillator(),r=e.createGain();s.connect(r),r.connect(e.destination),s.frequency.setValueAtTime(t,e.currentTime),s.type="sine",r.gain.setValueAtTime(0,e.currentTime),r.gain.linearRampToValueAtTime(.3,e.currentTime+.1),r.gain.linearRampToValueAtTime(0,e.currentTime+a),s.start(e.currentTime),s.stop(e.currentTime+a)},s)};t(800,.3,0),t(1e3,.3,400),t(800,.3,800),t(1e3,.3,1200),t(800,.3,1600),"Notification"in window&&"granted"===Notification.permission&&new Notification("work"===c?"Work session completed!":"Break time over!",{body:"work"===c?"Time for a break!":"Ready for another work session?",icon:"/favicon.ico",requireInteraction:!0,tag:"focus-timer"})}catch(e){console.error("Error playing alarm:",e);try{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})}catch(e){console.error("Fallback alarm also failed:",e)}}},v=()=>{let e={timeLeft:a,isActive:n,mode:c,selectedWorkTime:h,selectedBreakTime:m,alarmEnabled:g,lastUpdate:Date.now()};localStorage.setItem("aura-focus-timer",JSON.stringify(e))};return(0,r.useEffect)(()=>{let e=localStorage.getItem("aura-focus-timer");if(e)try{let t=JSON.parse(e),a=Math.floor((Date.now()-t.lastUpdate)/1e3);a<3600&&(u(t.selectedWorkTime||25),x(t.selectedBreakTime||5),b(void 0===t.alarmEnabled||t.alarmEnabled),d(t.mode||"work"),t.isActive&&t.timeLeft>a?(i(t.timeLeft-a),o(!0)):(t.isActive&&t.timeLeft<=a?i(0):i(t.timeLeft||("work"===t.mode?60*t.selectedWorkTime:60*t.selectedBreakTime)),o(!1)))}catch(e){console.error("Error restoring timer state:",e)}},[]),(0,r.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),(0,r.useEffect)(()=>(p.current&&(clearInterval(p.current),p.current=null),n&&a>0?(y.current=Date.now(),p.current=setInterval(()=>{let e=Date.now(),t=Math.floor((e-y.current)/1e3);y.current=e,t>0&&i(e=>{let a=Math.max(0,e-t);return(a%10==0||0===a)&&v(),a})},1e3)):(0===a&&(f(),o(!1),"work"===c?(d("break"),i(60*m)):(d("work"),i(60*h))),v()),()=>{p.current&&(clearInterval(p.current),p.current=null)}),[n,a,c,h,m,g]),(0,r.useEffect)(()=>{let e=()=>{v()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[a,n,c,h,m,g]),(0,s.jsx)(l.Provider,{value:{timeLeft:a,isActive:n,mode:c,selectedWorkTime:h,selectedBreakTime:m,alarmEnabled:g,setTimeLeft:i,setIsActive:o,setMode:d,setSelectedWorkTime:u,setSelectedBreakTime:x,setAlarmEnabled:b,resetTimer:()=>{o(!1),d("work"),i(60*h),localStorage.removeItem("aura-focus-timer")},toggleTimer:()=>{o(e=>!e)},playAlarm:f},children:t})}function n(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useTimer must be used within a TimerProvider");return e}}},function(e){e.O(0,[216,744],function(){return e(e.s=61917)}),_N_E=e.O()}]);