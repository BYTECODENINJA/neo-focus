(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{92169:function(e,t,r){Promise.resolve().then(r.bind(r,44875)),Promise.resolve().then(r.t.bind(r,50911,23)),Promise.resolve().then(r.t.bind(r,8823,23)),Promise.resolve().then(r.t.bind(r,47960,23))},44875:function(e,t,r){"use strict";r.d(t,{default:function(){return l}});var n=r(57437),i=r(2265),o=r(82798),a=r(29959),c=r(82578),s=r(29248),u=r(14438);function l(e){let{children:t}=e,[r,l]=(0,i.useState)([]);return(0,n.jsx)(o.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,n.jsx)(s.J,{children:(0,n.jsx)(c.Y,{achievements:r,setAchievements:l,children:(0,n.jsxs)(a._,{children:[(0,n.jsx)("div",{className:"min-h-screen bg-background text-foreground",children:t}),(0,n.jsx)(u.x,{position:"top-right",toastOptions:{style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})})})})}},82798:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});var n=r(57437);r(2265);var i=r(25922);function o(e){let{children:t,...r}=e;return(0,n.jsx)(i.f,{...r,children:t})}},82578:function(e,t,r){"use strict";r.d(t,{R:function(){return s},Y:function(){return c}});var n=r(57437),i=r(2265),o=r(79235);let a=(0,i.createContext)(void 0);function c(e){let{children:t,achievements:r,setAchievements:i}=e;return(0,n.jsx)(a.Provider,{value:{achievements:r,setAchievements:i,addAchievement:e=>{let t={...e,id:Date.now().toString(),earnedDate:new Date().toISOString()};i([t,...r||[]]),(0,o.Z)({particleCount:150,spread:70,origin:{y:.6},colors:["#8b5cf6","#3b82f6","#10b981","#f59e0b"]}),window.electronAPI&&console.log("Achievement Unlocked: ".concat(t.title," - ").concat(t.description))}},children:t})}function s(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useAchievements must be used within an AchievementProvider");return e}},29248:function(e,t,r){"use strict";r.d(t,{J:function(){return a},z:function(){return c}});var n=r(57437),i=r(2265);let o=(0,i.createContext)(void 0);function a(e){let{children:t}=e;return(0,i.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().catch(console.error)},[]),(0,n.jsx)(o.Provider,{value:{showNotification:(e,t)=>{try{"Notification"in window&&"granted"===Notification.permission?new Notification(e,{body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:"aura-focus",requireInteraction:!1}):console.log("Notification: ".concat(e," - ").concat(t))}catch(e){console.error("Failed to show notification:",e)}}},children:t})}function c(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},29959:function(e,t,r){"use strict";r.d(t,{J:function(){return c},_:function(){return a}});var n=r(57437),i=r(2265);let o=(0,i.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,i.useState)(1500),[c,s]=(0,i.useState)(!1),[u,l]=(0,i.useState)("work"),[f,d]=(0,i.useState)(25),[m,v]=(0,i.useState)(5),[w,h]=(0,i.useState)(!0),A=(0,i.useRef)(null),b=(0,i.useRef)(Date.now()),g=()=>{if(w)try{let e=new(window.AudioContext||window.webkitAudioContext),t=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;setTimeout(()=>{let n=e.createOscillator(),i=e.createGain();n.connect(i),i.connect(e.destination),n.frequency.setValueAtTime(t,e.currentTime),n.type="sine",i.gain.setValueAtTime(0,e.currentTime),i.gain.linearRampToValueAtTime(.3,e.currentTime+.1),i.gain.linearRampToValueAtTime(0,e.currentTime+r),n.start(e.currentTime),n.stop(e.currentTime+r)},n)};t(800,.3,0),t(1e3,.3,400),t(800,.3,800),t(1e3,.3,1200),t(800,.3,1600),"Notification"in window&&"granted"===Notification.permission&&new Notification("work"===u?"Work session completed!":"Break time over!",{body:"work"===u?"Time for a break!":"Ready for another work session?",icon:"/favicon.ico",requireInteraction:!0,tag:"focus-timer"})}catch(e){console.error("Error playing alarm:",e);try{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT").play().catch(()=>{})}catch(e){console.error("Fallback alarm also failed:",e)}}},k=()=>{let e={timeLeft:r,isActive:c,mode:u,selectedWorkTime:f,selectedBreakTime:m,alarmEnabled:w,lastUpdate:Date.now()};localStorage.setItem("aura-focus-timer",JSON.stringify(e))};return(0,i.useEffect)(()=>{let e=localStorage.getItem("aura-focus-timer");if(e)try{let t=JSON.parse(e),r=Math.floor((Date.now()-t.lastUpdate)/1e3);r<3600&&(d(t.selectedWorkTime||25),v(t.selectedBreakTime||5),h(void 0===t.alarmEnabled||t.alarmEnabled),l(t.mode||"work"),t.isActive&&t.timeLeft>r?(a(t.timeLeft-r),s(!0)):(t.isActive&&t.timeLeft<=r?a(0):a(t.timeLeft||("work"===t.mode?60*t.selectedWorkTime:60*t.selectedBreakTime)),s(!1)))}catch(e){console.error("Error restoring timer state:",e)}},[]),(0,i.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),(0,i.useEffect)(()=>(A.current&&(clearInterval(A.current),A.current=null),c&&r>0?(b.current=Date.now(),A.current=setInterval(()=>{let e=Date.now(),t=Math.floor((e-b.current)/1e3);b.current=e,t>0&&a(e=>{let r=Math.max(0,e-t);return(r%10==0||0===r)&&k(),r})},1e3)):(0===r&&(g(),s(!1),"work"===u?(l("break"),a(60*m)):(l("work"),a(60*f))),k()),()=>{A.current&&(clearInterval(A.current),A.current=null)}),[c,r,u,f,m,w]),(0,i.useEffect)(()=>{let e=()=>{k()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[r,c,u,f,m,w]),(0,n.jsx)(o.Provider,{value:{timeLeft:r,isActive:c,mode:u,selectedWorkTime:f,selectedBreakTime:m,alarmEnabled:w,setTimeLeft:a,setIsActive:s,setMode:l,setSelectedWorkTime:d,setSelectedBreakTime:v,setAlarmEnabled:h,resetTimer:()=>{s(!1),l("work"),a(60*f),localStorage.removeItem("aura-focus-timer")},toggleTimer:()=>{s(e=>!e)},playAlarm:g},children:t})}function c(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useTimer must be used within a TimerProvider");return e}},47960:function(){}},function(e){e.O(0,[216,587,744],function(){return e(e.s=92169)}),_N_E=e.O()}]);